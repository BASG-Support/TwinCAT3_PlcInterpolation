var TcHmi;!function(t){let e;!function(e){let a;!function(e){class a extends t.Controls.System.TcHmiControl{constructor(t,e,a){super(t,e,a),this.__lastPageClickable=void 0,this.__fontSize=void 0,this.__fontSizeUnit=void 0,this.__fontColor=void 0,this.__startPageVisible=void 0,this.__ShowStartPageOnStartPage=void 0,this.__startPage=void 0,this.__startPageText=void 0,this.__startPageImagePath=void 0,this.__spacerImage=void 0,this.__textVerticalAlignment=void 0,this.__lastPathObject=void 0,this.__masterID=void 0,this.__masterControl=void 0,this.__path=void 0}__previnit(){this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_ResponsiveNavigation_TcHmiBreadcrumb-Template"),this.__elementPathDisplayContainer=this.__elementTemplateRoot.find(".tchmi-bread-crumb-control-container"),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__ShowStartPageOnStartPage&&this.__showStartPage()}__detach(){super.__detach()}destroy(){super.destroy()}setLastPageClickable(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("LastPageClickable")),e!==this.__lastPageClickable&&(this.__lastPageClickable=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getLastPageClickable"]),this.__processLastPageClickable())}getLastPageClickable(){return this.__lastPageClickable}__processLastPageClickable(){var t,e;if(!this.__attributesInitialized)return;let a=null===(e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-bread-crumb-control-sub-container")[0],i=null==a?void 0:a.children.item((null==a?void 0:a.children.length)-1);if(i)if(this.__lastPageClickable&&i.classList.contains("non-clickable")&&!i.classList.contains("tchmi-bread-crumb-control-start-page")){i.classList.remove("non-clickable");let t=this;$(i).on("click",(function(){t.__callOnPageCalled($(this).attr("data-event-parameter")?$(this).attr("data-event-parameter"):"",$(this).attr("data-id")?$(this).attr("data-id"):"",$(this).attr("data-event-page")?$(this).attr("data-event-page"):"")}))}else this.__lastPageClickable||i.classList.contains("tchmi-bread-crumb-control-start-page")||($(i).unbind(),i.classList.add("non-clickable"))}setStartPageVisible(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StartPageVisible")),e!==this.__startPageVisible&&(this.__startPageVisible=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getStartPageVisible"]),this.__processStartPageVisible())}getStartPageVisible(){return this.__startPageVisible}__processStartPageVisible(){var t,e,a,i,n,s;if(!this.__attributesInitialized)return;let r=null===(e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-bread-crumb-control-sub-container")[0],l=null===(i=null===(a=this.__elementPathDisplayContainer)||void 0===a?void 0:a[0])||void 0===i?void 0:i.getElementsByClassName("tchmi-bread-crumb-control-start-page")[0];if(this.__startPageVisible&&!l)if((null===(n=null==r?void 0:r.children)||void 0===n?void 0:n.length)>0){let t=this.__addStartPage(!1);r.insertBefore(t[0],r.firstChild)}else this.__showStartPage();else!this.__startPageVisible&&l&&r&&(r.removeChild(l),0===r.children.length&&(null===(s=this.__elementPathDisplayContainer)||void 0===s||s[0].removeChild(r)))}setShowStartPageOnStartPage(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowStartPageOnStartPage")),e!==this.__ShowStartPageOnStartPage&&(this.__ShowStartPageOnStartPage=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getShowStartPageOnStartPage"]),this.__processShowStartPageOnStartPage())}getShowStartPageOnStartPage(){return this.__ShowStartPageOnStartPage}__processShowStartPageOnStartPage(){var t,e,a,i,n;if(!this.__attributesInitialized)return;let s=null===(e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-bread-crumb-control-sub-container")[0],r=null===(i=null===(a=this.__elementPathDisplayContainer)||void 0===a?void 0:a[0])||void 0===i?void 0:i.getElementsByClassName("tchmi-bread-crumb-control-start-page")[0];this.__ShowStartPageOnStartPage?s&&0!==(null==s?void 0:s.children.length)||this.__showStartPage():1===(null==s?void 0:s.children.length)&&r&&(null===(n=this.__elementPathDisplayContainer)||void 0===n||n[0].removeChild(s))}setStartPage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StartPage")),e!==this.__startPage&&(this.__startPage=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getStartPage"]),this.__processStartPage())}getStartPage(){return this.__startPage}__processStartPage(){this.__attributesInitialized}setStartPageText(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StartPageText")),e!==this.__startPageText&&(this.__startPageText=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getStartPageText"]),this.__processStartPageText())}getStartPageText(){return this.__startPageText}__processStartPageText(){var t,e,a,i;if(!this.__attributesInitialized)return;let n=null===(e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-bread-crumb-control-start-page-text")[0];if(n)n.innerText=this.__startPageText?this.__startPageText:"";else{let t=null===(i=null===(a=this.__elementPathDisplayContainer)||void 0===a?void 0:a[0])||void 0===i?void 0:i.getElementsByClassName("tchmi-bread-crumb-control-start-page")[0];if(this.__startPageText&&t){let e=document.createElement("a");e.innerText=this.__startPageText,e.classList.add("tchmi-bread-crumb-control-start-page-text"),this.__startPageImagePath&&(e.style.marginLeft="5px"),t.insertBefore(e,t.lastChild)}}}setStartPageImage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StartPageImage")),e!==this.__startPageImagePath&&(this.__startPageImagePath=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getStartPageImage"]),this.__processStartPageImage())}getStartPageImage(){return this.__startPageImagePath}__processStartPageImage(){var t,e;if(this.__attributesInitialized&&this.__startPageVisible){let a=null===(e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-bread-crumb-control-image")[0];this.__startPageImagePath&&a?a.style.backgroundImage="url("+this.__startPageImagePath+")":a.style.backgroundImage=""}}setSpacerImage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SpacerImage")),e!==this.__spacerImage&&(this.__spacerImage=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getSpacerImage"]),this.__processSpacerImage())}getSpacerImage(){return this.__spacerImage}__processSpacerImage(){var t,e;if(!this.__attributesInitialized)return;let a=null===(e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-bread-crumb-control-right-arrow");if(a)for(let t=0;t<a.length;t++){let e=a[t];this.__spacerImage?e.style.backgroundImage="url("+this.__spacerImage+")":e.style.backgroundImage=""}}setFontSize(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontSize")),e!==this.__fontSize&&(this.__fontSize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontSize"]),this.__processFontSize())}getFontSize(){return this.__fontSize}__processFontSize(){this.__elementPathDisplayContainer&&void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&this.__elementPathDisplayContainer.find(".tchmi-bread-crumb-control-nav-link").css({"font-size":this.__fontSize+this.__fontSizeUnit})}setTextVerticalAlignment(valueNew){let e=t.ValueConverter.toVerticalAlignment(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TextVerticalAlignment")),e!==this.__textVerticalAlignment&&(this.__textVerticalAlignment=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getTextVerticalAlignment"]),this.__processTextVerticalAlignment())}getTextVerticalAlignment(){return this.__textVerticalAlignment}__processTextVerticalAlignment(){var t;if(!this.__attributesInitialized)return;let e=null===(t=this.__elementPathDisplayContainer)||void 0===t?void 0:t.find(".tchmi-bread-crumb-control-sub-container");e&&this.__setContainerAlignment(e)}setFontSizeUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontSizeUnit")),e!==this.__fontSizeUnit&&(this.__fontSizeUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontSizeUnit"]),this.__processFontSizeUnit())}getFontSizeUnit(){return this.__fontSizeUnit}__processFontSizeUnit(){this.__elementPathDisplayContainer&&void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&this.__elementPathDisplayContainer.find(".tchmi-bread-crumb-control-nav-link").css({"font-size":this.__fontSize+this.__fontSizeUnit})}setFontColor(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontColor")),tchmi_equal(e,this.__fontColor)||(this.__fontColor=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontColor"]),this.__processFontColor())}getFontColor(){return this.__fontColor}__processFontColor(){this.__elementPathDisplayContainer&&t.StyleProvider.processTextColor(this.__elementPathDisplayContainer.find(".tchmi-bread-crumb-control-nav-link"),this.__fontColor)}setPath(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("Path")),tchmi_equal(e,this.__path)||(this.__path=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getPath"]),this.__processPath())}getPath(){return this.__path}__processPath(){this.showPath(this.__path)}__clearAll(){this.__elementPathDisplayContainer&&this.__elementPathDisplayContainer.find(".tchmi-bread-crumb-control-sub-container").remove(),this.__lastPathObject=null,this.__path=null}clearDisplay(){this.__elementPathDisplayContainer&&this.__elementPathDisplayContainer.find(".tchmi-bread-crumb-control-sub-container").remove(),this.__lastPathObject=null,this.__path=null,this.__ShowStartPageOnStartPage&&this.__showStartPage()}setMasterID(valueNew){let e=t.ValueConverter.toString(valueNew);if(null===e)return;if(e===this.__masterID)return;this.__masterID=e;let a=t.Controls.get(this.__masterID);a&&(this.__masterControl=a)}__callOnPageCalled(t,e,a){this.__masterControl&&this.__masterControl.raiseOnPageCalled(t,e,a)}__showStartPage(){let t=$("<div>").addClass("tchmi-bread-crumb-control-sub-container");this.__setContainerAlignment(t);let e=this.__addStartPage(!0);t.append(e),this.__elementPathDisplayContainer&&this.__elementPathDisplayContainer.append(t)}__setContainerAlignment(t){let e="top";switch(this.__textVerticalAlignment){case"Top":e="top";break;case"Center":e="middle";break;case"Bottom":e="bottom";break;default:e="top"}t.css({"vertical-align":e})}showPath(e){if(tchmi_equal(this.__path,e)||(this.__path=e,this.__path||(this.__path=null),t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getPath"])),null==e)return;this.__clearAll();let a=$("<div>").addClass("tchmi-bread-crumb-control-sub-container");if(this.__setContainerAlignment(a),this.__startPageVisible){let t=this.__addStartPage(!1);a.append(t)}this.__lastPathObject=e;for(let t=0;t<e.length;t++){if(!e[t])continue;if(!e[t].name)continue;let i=$("<a>").addClass("tchmi-bread-crumb-control-nav-link");if(void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&i.css({"font-size":this.__fontSize+this.__fontSizeUnit}),this.__fontColor){let t=this.__getColorOfColorObject(this.__fontColor);i.css({color:t||""})}if(i.append(e[t].name),void 0!==e[t].event&&null!==e[t].event&&i.attr("data-event-parameter",e[t].event),void 0!==e[t].page&&null!==e[t].page&&i.attr("data-event-page",e[t].page),void 0!==e[t].data&&null!==e[t].data&&i.attr("data-id",e[t].data),e[t].clickable)if(t!==e.length-1||t===e.length-1&&this.__lastPageClickable){if(t!==e.length-1){let t=$("<i>").addClass("tchmi-bread-crumb-control-right-arrow");this.__spacerImage?t.css({"background-image":"url("+this.__spacerImage+")"}):t.css({"background-image":""}),i.append(t)}let a=this;i.on("click",(function(){a.__callOnPageCalled($(this).attr("data-event-parameter")?$(this).attr("data-event-parameter"):"",$(this).attr("data-id")?$(this).attr("data-id"):"",$(this).attr("data-event-page")?$(this).attr("data-event-page"):"")}))}else i.addClass("non-clickable");else{if(t!==e.length-1){let t=$("<i>").addClass("tchmi-bread-crumb-control-right-arrow");this.__spacerImage?t.css({"background-image":"url("+this.__spacerImage+")"}):t.css({"background-image":""}),i.append(t)}i.addClass("non-clickable")}a.append(i)}this.__elementPathDisplayContainer&&this.__elementPathDisplayContainer.append(a)}__addStartPage(t){let e=$("<a>").addClass(["tchmi-bread-crumb-control-nav-link","tchmi-bread-crumb-control-start-page"]);if(this.__fontSize&&this.__fontSizeUnit&&e.css({"font-size":this.__fontSize+this.__fontSizeUnit}),this.__fontColor){let t=this.__getColorOfColorObject(this.__fontColor);e.css({color:t||""})}if(this.__startPageImagePath){let t=$("<i>").addClass("tchmi-bread-crumb-control-image");t.css({"background-image":"url("+this.__startPageImagePath+")"}),e.append(t)}else{let t=$("<i>").addClass("tchmi-bread-crumb-control-image");t.css({"background-image":""}),e.append(t)}let a=this;if(e.on("click",(function(){a.__callOnPageCalled(null,null,void 0!==a.__startPage?a.__startPage:null)})),this.__startPageText){let t=$("<a>").text(this.__startPageText).addClass("tchmi-bread-crumb-control-start-page-text");this.__startPageImagePath&&t.css({"margin-left":"5px"}),e.append(t)}if(!t){let t=$("<i>").addClass("tchmi-bread-crumb-control-right-arrow");this.__spacerImage?t.css({"background-image":"url("+this.__spacerImage+")"}):t.css({"background-image":""}),e.append(t)}return e}__getColorOfColorObject(e){return e&&null!==e.color&&void 0!==e.color?"None"===e.color?"rgba(0,0,0,0)":t.ValueConverter.toString(e.color):"rgba(0,0,0,0)"}__rgb2hex(t){if(/^#[0-9A-F]{6}$/i.test(t))return t;let e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}}e.TcHmiBreadcrumb=a}(a=e.ResponsiveNavigation||(e.ResponsiveNavigation={})),e.registerEx("TcHmiBreadcrumb","TcHmi.Controls.ResponsiveNavigation",t.Controls.ResponsiveNavigation.TcHmiBreadcrumb)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));