var TcHmi;!function(t){let e;!function(e){let n;!function(e){class n extends t.Controls.System.TcHmiControl{constructor(t,e,n){super(t,e,n),this.__curRowElement=null,this.__lastExpandedElement=null,this.__lastExpandedSubElement=null,this.__slideUpTime=400,this.__slideDownTime=350,this.__menuSourceData=void 0,this.__masterID=void 0,this.__masterControl=void 0,this.__mouseOverShow=void 0,this.__mobileView=!1,this.__paddingLeftRight=void 0,this.__paddingLeftRightUnit=void 0,this.__columnElementMarginTop=void 0,this.__columnElementMarginTopUnit=void 0,this.__mobileElementMarginTop=void 0,this.__mobileElementMarginTopUnit=void 0,this.__showIconsMobile=void 0,this.__closeText=void 0,this.__showMenuEvents="click",this.__autoCollapseElements=void 0,this.__subtitleFontSize=void 0,this.__subtitleFontSizeUnit=void 0,this.__columnTitleFontSize=void 0,this.__columnTitleFontSizeUnit=void 0,this.__columnElementFontSize=void 0,this.__columnElementFontSizeUnit=void 0,this.__closeFontSize=void 0,this.__closeFontSizeUnit=void 0,this.__fontColor={color:"#000000"},this.__menuBackgroundColor={color:"#FFFFFF"}}__previnit(){this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_ResponsiveNavigation_TcHmiNavigationContent-Template"),this.__elementNavigationContent=this.__elementTemplateRoot.find(".tchmi-nav-content-main-container"),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__menuSourceData&&this.__initializeAccessConfig()}__detach(){super.__detach()}destroy(){super.destroy(),this.__clearContent()}setPaddingLeftRight(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("PaddingLeftRight")),e!==this.__paddingLeftRight&&(this.__paddingLeftRight=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getPaddingLeftRight"]),this.__processPaddingLeftRight())}getPaddingLeftRight(){return this.__paddingLeftRight}__processPaddingLeftRight(){this.__elementNavigationLine&&void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&this.__elementNavigationLine.find(".tchmi-nav-bar-sub-container").css({"padding-left":this.__paddingLeftRight+this.__paddingLeftRightUnit,"padding-right":this.__paddingLeftRight+this.__paddingLeftRightUnit})}setPaddingLeftRightUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("PaddingLeftRightUnit")),e!==this.__paddingLeftRightUnit&&(this.__paddingLeftRightUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getPaddingLeftRightUnit"]),this.__processPaddingLeftRightUnit())}getPaddingLeftRightUnit(){return this.__paddingLeftRightUnit}__processPaddingLeftRightUnit(){this.__elementNavigationLine&&void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&this.__elementNavigationLine.find(".tchmi-nav-bar-sub-container").css({"padding-left":this.__paddingLeftRight+this.__paddingLeftRightUnit,"padding-right":this.__paddingLeftRight+this.__paddingLeftRightUnit})}setColumnElementMarginTop(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ColumnElementMarginTop")),e!==this.__columnElementMarginTop&&(this.__columnElementMarginTop=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getColumnElementMarginTop"]),this.__processColumnElementMarginTop())}getColumnElementMarginTop(){return this.__columnElementMarginTop}__processColumnElementMarginTop(){this.__elementNavigationContent&&this.__isAttached&&!this.__mobileView&&this.__columnElementMarginTop&&this.__columnElementMarginTopUnit&&this.__elementNavigationContent.find(".tchmi-nav-content-column-li-element").css("margin-top",this.__columnElementMarginTop+this.__columnElementMarginTopUnit)}setColumnElementMarginTopUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ColumnElementMarginTopUnit")),e!==this.__columnElementMarginTopUnit&&(this.__columnElementMarginTopUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getColumnElementMarginTopUnit"]),this.__processColumnElementMarginTopUnit())}getColumnElementMarginTopUnit(){return this.__columnElementMarginTopUnit}__processColumnElementMarginTopUnit(){this.__elementNavigationContent&&this.__isAttached&&!this.__mobileView&&this.__columnElementMarginTop&&this.__columnElementMarginTopUnit&&this.__elementNavigationContent.find(".tchmi-nav-content-column-li-element").css("margin-top",this.__columnElementMarginTop+this.__columnElementMarginTopUnit)}setMobileElementMarginTop(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileElementMarginTop")),e!==this.__mobileElementMarginTop&&(this.__mobileElementMarginTop=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileElementMarginTop"]),this.__processMobileElementMarginTop())}getMobileElementMarginTop(){return this.__mobileElementMarginTop}__processMobileElementMarginTop(){this.__elementNavigationContent&&this.__isAttached&&this.__mobileView&&this.__mobileElementMarginTop&&this.__mobileElementMarginTopUnit&&this.__elementNavigationContent.find(".tchmi-nav-content-column-li-element").css("margin-top",this.__mobileElementMarginTop+this.__mobileElementMarginTopUnit)}setMobileElementMarginTopUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileElementMarginTopUnit")),e!==this.__mobileElementMarginTopUnit&&(this.__mobileElementMarginTopUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileElementMarginTopUnit"]),this.__processMobileElementMarginTopUnit())}getMobileElementMarginTopUnit(){return this.__mobileElementMarginTopUnit}__processMobileElementMarginTopUnit(){this.__elementNavigationContent&&this.__isAttached&&this.__mobileView&&this.__mobileElementMarginTop&&this.__mobileElementMarginTopUnit&&this.__elementNavigationContent.find(".tchmi-nav-content-column-li-element").css("margin-top",this.__mobileElementMarginTop+this.__mobileElementMarginTopUnit)}setSubtitleFontSize(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubtitleFontSize")),e!==this.__subtitleFontSize&&(this.__subtitleFontSize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getSubtitleFontSize"]),this.__processSubtitleFontSize())}getSubtitleFontSize(){return this.__subtitleFontSize}__processSubtitleFontSize(){this.__elementNavigationContent&&void 0!==this.__subtitleFontSize&&null!==this.__subtitleFontSize&&void 0!==this.__subtitleFontSizeUnit&&null!==this.__subtitleFontSizeUnit&&this.__elementNavigationContent.find(".tchmi-nav-content-row-description").css({"font-size":this.__subtitleFontSize+this.__subtitleFontSizeUnit})}setSubtitleFontSizeUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubtitleFontSizeUnit")),e!==this.__subtitleFontSizeUnit&&(this.__subtitleFontSizeUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getSubtitleFontSizeUnit"]),this.__processSubtitleFontSizeUnit())}getSubtitleFontSizeUnit(){return this.__subtitleFontSizeUnit}__processSubtitleFontSizeUnit(){this.__elementNavigationContent&&void 0!==this.__subtitleFontSize&&null!==this.__subtitleFontSize&&void 0!==this.__subtitleFontSizeUnit&&null!==this.__subtitleFontSizeUnit&&this.__elementNavigationContent.find(".tchmi-nav-content-row-description").css({"font-size":this.__subtitleFontSize+this.__subtitleFontSizeUnit})}setColumnTitleFontSize(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ColumnTitleFontSize")),e!==this.__columnTitleFontSize&&(this.__columnTitleFontSize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getColumnTitleFontSize"]),this.__processColumnTitleFontSize())}getColumnTitleFontSize(){return this.__columnTitleFontSize}__processColumnTitleFontSize(){this.__elementNavigationContent&&void 0!==this.__columnTitleFontSize&&null!==this.__columnTitleFontSize&&void 0!==this.__columnTitleFontSizeUnit&&null!==this.__columnTitleFontSizeUnit&&(this.__elementNavigationContent.find(".tchmi-nav-content-column-element-list > li.is-headline > a").css({"font-size":this.__columnTitleFontSize+this.__columnTitleFontSizeUnit}),this.__elementNavigationContent.find(".tchmi-nav-content-mobile-column-element-list > li.is-headline > a").css({"font-size":this.__columnTitleFontSize+this.__columnTitleFontSizeUnit}))}setColumnTitleFontSizeUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ColumnTitleFontSizeUnit")),e!==this.__columnTitleFontSizeUnit&&(this.__columnTitleFontSizeUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getColumnTitleFontSizeUnit"]),this.__processColumnTitleFontSizeUnit())}getColumnTitleFontSizeUnit(){return this.__columnTitleFontSizeUnit}__processColumnTitleFontSizeUnit(){this.__elementNavigationContent&&void 0!==this.__columnTitleFontSize&&null!==this.__columnTitleFontSize&&void 0!==this.__columnTitleFontSizeUnit&&null!==this.__columnTitleFontSizeUnit&&(this.__elementNavigationContent.find(".tchmi-nav-content-column-element-list > li.is-headline > a").css({"font-size":this.__columnTitleFontSize+this.__columnTitleFontSizeUnit}),this.__elementNavigationContent.find(".tchmi-nav-content-mobile-column-element-list > li.is-headline > a").css({"font-size":this.__columnTitleFontSize+this.__columnTitleFontSizeUnit}))}setColumnElementFontSize(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ColumnElementFontSize")),e!==this.__columnElementFontSize&&(this.__columnElementFontSize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getColumnElementFontSize"]),this.__processColumnElementFontSize())}getColumnElementFontSize(){return this.__columnElementFontSize}__processColumnElementFontSize(){this.__elementNavigationContent&&void 0!==this.__columnElementFontSize&&null!==this.__columnElementFontSize&&void 0!==this.__columnElementFontSizeUnit&&null!==this.__columnElementFontSizeUnit&&(this.__elementNavigationContent.find(".tchmi-nav-content-column-element-list > li > a").css({"font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}),this.__elementNavigationContent.find(".tchmi-nav-content-mobile-column-element-list > li > a").css({"font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}))}setColumnElementFontSizeUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ColumnElementFontSizeUnit")),e!==this.__columnElementFontSizeUnit&&(this.__columnElementFontSizeUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getColumnElementFontSizeUnit"]),this.__processColumnElementFontSizeUnit())}getColumnElementFontSizeUnit(){return this.__columnElementFontSizeUnit}__processColumnElementFontSizeUnit(){this.__elementNavigationContent&&void 0!==this.__columnElementFontSize&&null!==this.__columnElementFontSize&&void 0!==this.__columnElementFontSizeUnit&&null!==this.__columnElementFontSizeUnit&&(this.__elementNavigationContent.find(".tchmi-nav-content-column-element-list > li > a").css({"font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}),this.__elementNavigationContent.find(".tchmi-nav-content-mobile-column-element-list > li > a").css({"font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}))}setCloseFontSize(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("CloseFontSize")),e!==this.__closeFontSize&&(this.__closeFontSize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getCloseFontSize"]),this.__processCloseFontSize())}getCloseFontSize(){return this.__closeFontSize}__processCloseFontSize(){this.__isAttached&&this.__elementNavigationContent&&(this.__closeFontSize&&this.__closeFontSizeUnit?this.__elementNavigationContent.find(".tchmi-nav-content-close-element-text").css("font-size",this.__closeFontSize+this.__closeFontSizeUnit):this.__elementNavigationContent.find(".tchmi-nav-content-close-element-text").css("font-size",""))}setCloseFontSizeUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("CloseFontSizeUnit")),e!==this.__closeFontSizeUnit&&(this.__closeFontSizeUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getCloseFontSizeUnit"]),this.__processCloseFontSizeUnit())}getCloseFontSizeUnit(){return this.__closeFontSizeUnit}__processCloseFontSizeUnit(){this.__isAttached&&this.__elementNavigationContent&&(this.__closeFontSize&&this.__closeFontSizeUnit?this.__elementNavigationContent.find(".tchmi-nav-content-close-element-text").css("font-size",this.__closeFontSize+this.__closeFontSizeUnit):this.__elementNavigationContent.find(".tchmi-nav-content-close-element-text").css("font-size",""))}setShowIconsMobile(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowIconsMobile")),e!==this.__showIconsMobile&&(this.__showIconsMobile=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getShowIconsMobile"]),this.__processShowIconsMobile())}getShowIconsMobile(){return this.__showIconsMobile}__processShowIconsMobile(){this.__isAttached&&this.__mobileView&&this.__loadContent("",!0)}setAutoCollapseElements(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("AutoCollapseElements")),e!==this.__autoCollapseElements&&(this.__autoCollapseElements=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getAutoCollapseElements"]),this.__processAutoCollapseElements())}getAutoCollapseElements(){return this.__autoCollapseElements}__processAutoCollapseElements(){this.__isAttached&&this.__elementNavigationContent&&void 0!==this.__showMenuEvents&&null!==this.__showMenuEvents&&(this.__autoCollapseElements?this.__elementNavigationContent.find(".tchmi-nav-content-container").on(this.__showMenuEvents,{$this:this},this.__onOutsideElementsCloseHandler()):this.__elementNavigationContent.find(".tchmi-nav-content-container").off(this.__showMenuEvents))}setFontColor(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontColor")),tchmi_equal(e,this.__fontColor)||(this.__fontColor=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontColor"]),this.__processFontColor())}getFontColor(){return this.__fontColor}__processFontColor(){if(this.__isAttached&&this.__elementNavigationContent){let t=this.__getColorOfColorObject(this.__fontColor);this.__elementNavigationContent.find("a").css("color",t||""),this.__elementNavigationContent.find("hr3").css("color",t||"")}}setMenuBackgroundColor(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBackgroundColor")),tchmi_equal(e,this.__menuBackgroundColor)||(this.__menuBackgroundColor=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMenuBackgroundColor"]),this.__processMenuBackgroundColor())}getMenuBackgroundColor(){return this.__menuBackgroundColor}__processMenuBackgroundColor(){this.__elementNavigationContent&&t.StyleProvider.processBackgroundColor(this.__elementNavigationContent,this.__menuBackgroundColor)}setCloseText(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("CloseText")),e!==this.__closeText&&(this.__closeText=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getCloseText"]),this.__processCloseText())}getCloseText(){return this.__closeText}__processCloseText(){this.__isAttached&&this.__elementNavigationContent&&this.__elementNavigationContent.find(".tchmi-nav-content-close-element-text").html(this.__closeText?this.__closeText:"")}__initializeAccessConfig(){this.__accessConfig=super.getAccessConfig();let t=this.__getSubRights(this.__menuSourceData,[]);null!=t&&t.length>0&&this.__accessConfig.push.apply(this.__accessConfig,t)}getAccessConfig(){return this.__accessConfig}getDescriptionAccessByName(){return{defaultValueInternal:!0}}__getSubRights(t,e){if(null==t)return null;for(let n=0;n<t.length;n++)if(t[n]){if(t[n].accessRight&&0!==t[n].accessRight.length)for(let i=0;i<t[n].accessRight.length;i++)if(t[n].accessRight[i]){let o={accessright:t[n].id+":"+t[n].accessRight[i].accessright,group:t[n].accessRight[i].group,permission:t[n].accessRight[i].permission};e.push(o)}t[n].children&&this.__getSubRights(t[n].children,e)}return e}setCloseImage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("CloseImage")),tchmi_equal(e,this.__closeImage)||(this.__closeImage=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getCloseImage"]),this.__processCloseImage())}getCloseImage(){return this.__closeImage}__processCloseImage(){if(!this.__elementNavigationContent)return;let t=this.__elementNavigationContent.find(".tchmi-nav-content-close-element-image");if(0===t.length)return;let e=$(t[0]);this.__closeImage?e.css({"background-image":"url("+this.__closeImage+")"}):e.css({"background-image":""})}setSubMenuImage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubMenuImage")),tchmi_equal(e,this.__subMenuImage)||(this.__subMenuImage=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getSubMenuImage"]),this.__processSubMenuImage())}getSubMenuImage(){return this.__subMenuImage}__processSubMenuImage(){if(!this.__elementNavigationContent)return;let t=this.__elementNavigationContent.find(".tchmi-nav-content-column-element-list-subelements-nav-arrow");for(let e=0,n=t.length;e<n;e++){let n=$(t[e]);this.__subMenuImage?n.css({"background-image":"url("+this.__subMenuImage+")"}):n.css({"background-image":""})}}__closeMenu(){this.__lastExpandedElement=null,this.__lastExpandedSubElement=null,this.__masterControl&&(this.__masterControl.closeMenu(),this.__masterControl.raiseOnMenuClosed())}__callOnPageCalled(t,e,n){n&&this.__mouseOverShow&&this.__closeMenu(),this.__masterControl&&this.__masterControl.raiseOnPageCalled(t,e,n)}__setLastHeadId(id){this.__masterControl&&this.__masterControl.setLastHeadId(id)}loadContentView(t,e,n,i){this.__mobileView=e,e||void 0!==t&&this.__hasChildren(this.__menuSourceData,t)?(this.__loadContent(t,n),this.__showNavContent(i)):this.__closeMenu()}setMenuSourceData(valueNew){let e=t.ValueConverter.toObject(valueNew,null);null!==e&&e!==this.__menuSourceData&&(this.__menuSourceData=e)}setMasterID(valueNew){let e=t.ValueConverter.toString(valueNew);if(null===e)return;if(e===this.__masterID)return;this.__masterID=e;let n=t.Controls.get(this.__masterID);n&&(this.__masterControl=n)}setShowMenuEvents(t,e){this.__mouseOverShow=t,this.__showMenuEvents=e}__showNavContent(t){let e=this;if(this.__elementNavigationContent)if("Bottom"===t){if("block"===this.__elementNavigationContent.css("display"))return void(e.__curRowElement&&(e.__curRowElement.css({"overflow-y":"auto"}),this.__elementNavigationContent.css({"box-shadow":"2px -2px 2px 0px rgba(0, 0, 0, 0.25)"})));this.__elementNavigationContent.css({"box-shadow":"2px -2px 2px 0px rgba(0, 0, 0, 0.25)"});let t=this.__element.height();void 0!==t&&this.__elementNavigationContent.css({display:"block",top:t}),this.__elementNavigationContent.animate({top:0},350,(function(){e.__curRowElement&&e.__curRowElement.css({"overflow-y":"auto"})}))}else this.__elementNavigationContent.css({"box-shadow":"2px 2px 0px rgba(0, 0, 0, 0.25)"}),void 0!==this.__slideDownTime&&null!==this.__slideDownTime&&this.__elementNavigationContent.slideDown(this.__slideDownTime,(function(){e.__curRowElement&&e.__curRowElement.css({"overflow-y":"auto"})}))}hideNavContent(){this.__elementNavigationContent&&this.__elementNavigationContent.fadeOut(150)}__getColorOfColorObject(e){return e&&null!==e.color&&void 0!==e.color?"None"===e.color?"rgba(0,0,0,0)":t.ValueConverter.toString(e.color):null}__clearContent(){this.__elementNavigationContent&&(this.__elementNavigationContent.find(".tchmi-nav-content-sub-container").remove(),this.__elementNavigationContent.find(".tchmi-nav-content-mobile-container").remove())}__hasChildren(t,e){return void 0!==e&&(null!==t[e].children&&void 0!==t[e].children&&0!==t[e].children.length)}__isNotEmpty(t){return null!=t&&""!==t}__round2Decimals(t){return Math.round(100*t)/100}__loadContent(t,e){this.__clearContent();let n,i=$("<div></div>").addClass("tchmi-nav-content-container");this.__mobileView&&e?(this.__elementNavigationContent&&this.__elementNavigationContent.css({"overflow-y":"hidden"}),i.append(this.__getCloseContentElement()),i.addClass("tchmi-nav-content-mobile-container"),n=this.__createMobileContent()):(this.__elementNavigationContent&&this.__elementNavigationContent.css({"overflow-y":"auto"}),void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&i.addClass("tchmi-nav-content-sub-container").css({"padding-left":this.__paddingLeftRight+this.__paddingLeftRightUnit,"padding-right":this.__paddingLeftRight+this.__paddingLeftRightUnit}),i.append(this.__getCloseContentElement()),n=this.__createDesktopContent(t)),this.__autoCollapseElements&&void 0!==this.__showMenuEvents&&null!==this.__showMenuEvents&&i.on(this.__showMenuEvents,{$this:this},this.__onOutsideElementsCloseHandler()),i.append(n),this.__elementNavigationContent&&this.__elementNavigationContent.append(i)}__onOutsideElementsCloseHandler(){return function(t){t.stopPropagation();let e=!1,n=t.target;for(;null!==n;){if(n===t.data.$this.__lastExpandedElement){e=!0;break}n=n.parentElement}if(t.data.$this.__lastExpandedElement&&!e){t.data.$this.__closeElement(t.data.$this.__lastExpandedElement,t.data.$this.__slideUpTime);let e=$(t.data.$this.__lastExpandedElement).find("[data-is-expand='true']");for(let n=0;n<e.length;n++)t.data.$this.__closeSubElement(e[n],t.data.$this.__slideUpTime,t.data.$this.__mobileView);t.data.$this.__lastExpandedElement=null,t.data.$this.__lastExpandedSubElement=null}}}__getCloseContentElement(){let t=$("<div>"),e=$("<a>"+this.__closeText+"</a>"),n=this.__getColorOfColorObject(this.__fontColor);void 0!==this.__closeFontSize&&null!==this.__closeFontSize&&void 0!==this.__closeFontSizeUnit&&null!==this.__closeFontSizeUnit&&e.addClass("tchmi-nav-content-close-element-text").css({color:n||"","font-size":this.__closeFontSize+this.__closeFontSizeUnit}),t.append(e);let i=this;t.on("click",(function(){i.__closeMenu()}));let o=$("<i>").addClass("tchmi-nav-content-close-element-image");if(this.__closeImage&&o.css("background-image","url("+this.__closeImage+")"),t.append(o),this.__mobileView){let e=$("<div>").addClass("tchmi-nav-content-mobile-row-close");return t.addClass("tchmi-nav-content-mobile-close-element"),e.append(t),e}return t.addClass("tchmi-nav-content-close-element-container"),t}__createDesktopContent(e){let n=$("<div></div>").addClass("tchmi-nav-content-row-element").css({"margin-top":"0px"});if(this.__menuSourceData[e]){if(this.__isNotEmpty(this.__menuSourceData[e].subtitle)){let t=this.__getColorOfColorObject(this.__fontColor);void 0!==this.__subtitleFontSize&&null!==this.__subtitleFontSize&&void 0!==this.__subtitleFontSizeUnit&&null!==this.__subtitleFontSizeUnit&&n.append($("<h3>"+this.__menuSourceData[e].subtitle+"</h3>").addClass("tchmi-nav-content-row-description").css({color:t||"","font-size":this.__subtitleFontSize+this.__subtitleFontSizeUnit}))}if(this.__hasChildren(this.__menuSourceData,e)){let i=this.__round2Decimals(100/this.__menuSourceData[e].children.length);i>49&&(this.__mobileView||(i=30));let o=i+"%";for(let i=0;i<this.__menuSourceData[e].children.length;i++)if(this.__menuSourceData[e].children[i]){let l=$("<div></div>").addClass("tchmi-nav-content-column-element").css({width:o}),s=$("<ul></ul>").addClass("tchmi-nav-content-column-element-list");if(this.__menuSourceData[e].children[i].showColumnName&&this.__isNotEmpty(this.__menuSourceData[e].children[i].name)){let t=$("<li></li>").addClass("is-headline"),n=$("<a>"+this.__menuSourceData[e].children[i].name+"</a>").addClass("tchmi-nav-content-column-headline"),o=this.__getColorOfColorObject(this.__fontColor);void 0!==this.__columnTitleFontSize&&null!==this.__columnTitleFontSize&&void 0!==this.__columnTitleFontSizeUnit&&null!==this.__columnTitleFontSizeUnit&&n.css({color:o||"","font-size":this.__columnTitleFontSize+this.__columnTitleFontSizeUnit}),t.append(n),s.append(t)}if(this.__hasChildren(this.__menuSourceData[e].children,i))for(let n=0;n<this.__menuSourceData[e].children[i].children.length;n++)if(this.__menuSourceData[e].children[i].children[n]){let o=this.__menuSourceData[e].children[i].children[n].id+":observe",l=this.__menuSourceData[e].children[i].children[n].id+":operate",a=t.Access.checkAccess(this,o),_=t.Access.checkAccess(this,l);if(!1===a)continue;let h=$("<li></li>");h.addClass("tchmi-nav-content-column-li-element"),void 0!==this.__columnElementMarginTop&&null!==this.__columnElementMarginTop&&void 0!==this.__columnElementMarginTopUnit&&null!==this.__columnElementMarginTopUnit&&h.css("margin-top",this.__columnElementMarginTop+this.__columnElementMarginTopUnit);let m=$("<a>"),r=this.__getColorOfColorObject(this.__fontColor);if(void 0!==this.__columnElementFontSize&&null!==this.__columnElementFontSize&&void 0!==this.__columnElementFontSizeUnit&&null!==this.__columnElementFontSizeUnit&&m.css({color:r||"","font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}),this.__isNotEmpty(this.__menuSourceData[e].children[i].children[n].image)){let t=$("<i>").addClass("tchmi-nav-content-image").css({"background-image":"url("+this.__menuSourceData[e].children[i].children[n].image+")"});this.__isNotEmpty(this.__menuSourceData[e].children[i].children[n].imageWidth)&&this.__isNotEmpty(this.__menuSourceData[e].children[i].children[n].imageHeight)&&t.css({width:this.__menuSourceData[e].children[i].children[n].imageWidth+this.__menuSourceData[e].children[i].children[n].imageWidthUnit,height:this.__menuSourceData[e].children[i].children[n].imageHeight+this.__menuSourceData[e].children[i].children[n].imageHeightUnit}),m.append(t)}m.append(this.__menuSourceData[e].children[i].children[n].name);let c=this;if(h.attr({"data-head-index":e,"data-column-index":i,"data-row-index":n,"data-is-expand":"false","data-event-parameter":this.__menuSourceData[e].children[i].children[n].parameter,"data-event-page":this.__menuSourceData[e].children[i].children[n].page,"data-id":this.__menuSourceData[e].children[i].children[n].id}),!1===_&&(m.addClass("non-operate"),h.addClass("non-operate")),!1!==_&&this.__showMenuEvents&&h.on(this.__showMenuEvents,(function(t){t.stopPropagation(),c.__hasChildren(c.__menuSourceData[$(this).attr("data-head-index")].children[$(this).attr("data-column-index")].children,$(this).attr("data-row-index"))?"true"===$(this).attr("data-is-expand")&&"click"===t.type?(c.__callOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),void 0!==c.__slideUpTime&&null!==c.__slideUpTime?c.__closeElement(this,c.__slideUpTime):c.__closeElement(this,0)):("click"===t.type&&c.__callOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),c.__autoCollapseElements&&c.__lastExpandedElement&&c.__lastExpandedElement!==this&&"true"===$(c.__lastExpandedElement).attr("data-is-expand")&&(c.__slideUpTime?c.__closeElement(c.__lastExpandedElement,c.__slideUpTime):c.__closeElement(c.__lastExpandedElement,0)),c.__slideDownTime?c.__openElement(this,c.__slideDownTime):c.__openElement(this,0),c.__lastExpandedElement=this):"click"===t.type&&(c.__callOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),c.__closeMenu())})),h.append(m),!1!==_&&this.__hasChildren(this.__menuSourceData[e].children[i].children,n)){let t=$("<a>").addClass("tchmi-nav-content-column-element-list-subelements-nav-arrow");c.__subMenuImage&&t.css({"background-image":"url("+c.__subMenuImage+")"}),m.append(t),h.append(this.__createSubElements(this.__menuSourceData[e].children[i].children[n].children))}s.append(h)}l.append(s),n.append(l)}n.append($('<div style="clear:both;">'))}}return n}__createSubElements(e){let n=$("<ul></ul>").addClass("tchmi-nav-content-mobile-column-element-subtitlelist").css({display:"none"});if(e)for(let i=0;i<e.length;i++){let o=e[i].id+":observe",l=e[i].id+":operate",s=t.Access.checkAccess(this,o),a=t.Access.checkAccess(this,l);if(!1===s)continue;let _=$("<li></li>");_.addClass("tchmi-nav-content-column-li-element");let h=$("<a>"),m=this.__getColorOfColorObject(this.__fontColor);if(void 0!==this.__columnElementFontSize&&null!==this.__columnElementFontSize&&void 0!==this.__columnElementFontSizeUnit&&null!==this.__columnElementFontSizeUnit&&h.css({color:m||"","font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}),this.__isNotEmpty(e[i].image)&&(this.__showIconsMobile||!this.__mobileView)){let t=$("<i>").addClass("tchmi-nav-content-image");this.__mobileView?$(t).css({"background-image":"url("+e[i].image+")","margin-left":"10px","margin-right":"0px"}):$(t).css({"background-image":"url("+e[i].image+")","margin-left":"0px","margin-right":"10px"}),this.__isNotEmpty(e[i].imageWidth)&&this.__isNotEmpty(e[i].imageHeight)&&$(t).css({width:e[i].imageWidth+e[i].imageWidthUnit,height:e[i].imageHeight+e[i].imageHeightUnit}),h.append(t)}if($(_).attr({"data-id":e[i].id,"data-event-parameter":e[i].parameter,"data-event-page":e[i].page}),!1===a&&(h.addClass("non-operate"),_.addClass("non-operate")),!1!==a&&this.__showMenuEvents&&$(_).on(this.__showMenuEvents,{$this:this},this.__onSubElementFunctionHandler()),this.__mobileView?($(h).append($("<a>"+e[i].name+"</a>")).css({"margin-left":"10px"}),_&&void 0!==this.__mobileElementMarginTop&&null!==this.__mobileElementMarginTop&&void 0!==this.__mobileElementMarginTopUnit&&null!==this.__mobileElementMarginTopUnit&&$(_).css("margin-top",this.__mobileElementMarginTop+this.__mobileElementMarginTopUnit)):($(h).append(e[i].name).css({"margin-left":"10px"}),_&&void 0!==this.__columnElementMarginTop&&null!==this.__columnElementMarginTop&&void 0!==this.__columnElementMarginTopUnit&&null!==this.__columnElementMarginTopUnit&&$(_).css("margin-top",this.__columnElementMarginTop+this.__columnElementMarginTopUnit)),_.append(h),!1!==a&&this.__hasChildren(e,i)){if(this.__mobileView)h.append($("<a></a>").addClass("tchmi-nav-content-mobile-column-element-triangle"));else{let t=$("<a>").addClass("tchmi-nav-content-column-element-list-subelements-nav-arrow");this.__subMenuImage&&t.css({"background-image":"url("+this.__subMenuImage+")"}),h.append(t)}$(_).attr("data-is-expand","false"),_.append(this.__createSubElements(e[i].children))}n.append(_)}return n}__onSubElementFunctionHandler(){return function(t){if(t.stopPropagation(),null!==$(this).attr("data-is-expand")&&void 0!==$(this).attr("data-is-expand"))if("true"===$(this).attr("data-is-expand")&&"click"===t.type)t.data.$this.__callOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),t.data.$this.__closeSubElement(this,t.data.$this.__slideDownTime,t.data.$this.__mobileView);else{if("click"===t.type&&t.data.$this.__callOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),t.data.$this.__autoCollapseElements){let e=$(this).attr("data-id"),n=$(this).attr("data-is-expand");e&&1===e.length&&n&&"false"===n&&(t.data.$this.__closeAllButNotMe(this,t.data.$this),t.data.$this.__lastExpandedSubElement=null)}t.data.$this.__openSubElement(this,t.data.$this.__slideDownTime,t.data.$this.__mobileView),t.data.$this.__lastExpandedSubElement=this}else{if("click"===t.type)return t.data.$this.__callOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),void t.data.$this.__closeMenu();if(t.data.$this.__autoCollapseElements){let e=$(this).attr("data-id");if(t.data.$this.__mouseOverShow&&e&&1===e.length)t.data.$this.__closeAllButNotMe(this,t.data.$this),t.data.$this.__lastExpandedSubElement=null;else{let e=$(this).nextAll("[data-is-expand='true']");for(let n=0;n<e.length;n++)t.data.$this.__closeSubElement(e[n],t.data.$this.__slideUpTime,t.data.$this.__mobileView)}}}}}__closeAllButNotMe(t,e){for(let n=0;n<2;n++){let i=$();0===n?i=$(t).nextAll("[data-is-expand='true']"):1===n&&(i=$(t).prevAll("[data-is-expand='true']"));for(let t=0;t<i.length;t++){let n=$(i).find("[data-is-expand='true']");for(let t=0;t<n.length;t++)e.__closeSubElement(n[t],e.__slideUpTime,e.__mobileView);e.__closeSubElement(i[t],e.__slideUpTime,e.__mobileView)}}}__openSubElement(t,e,n){$(t).find(".tchmi-nav-content-mobile-column-element-subtitlelist:first").slideDown(e),n?$(t).find(".tchmi-nav-content-mobile-column-element-triangle:first").addClass("is-open"):$(t).find(".tchmi-nav-content-column-element-list-subelements-nav-arrow:first").addClass("is-open"),$(t).attr("data-is-expand","true")}__closeSubElement(t,e,n){$(t).find(".tchmi-nav-content-mobile-column-element-subtitlelist:first").slideUp(e),n?$(t).find(".tchmi-nav-content-mobile-column-element-triangle:first").removeClass("is-open"):$(t).find(".tchmi-nav-content-column-element-list-subelements-nav-arrow:first").removeClass("is-open"),$(t).attr("data-is-expand","false")}__openElement(t,e){$(t).find(".tchmi-nav-content-mobile-column-element-subtitlelist:first").slideDown(e),$(t).find(".tchmi-nav-content-column-element-list-subelements-nav-arrow:first").addClass("is-open"),$(t).attr("data-is-expand","true")}__closeElement(t,e){$(t).find(".tchmi-nav-content-mobile-column-element-subtitlelist:first").slideUp(e),$(t).find(".tchmi-nav-content-column-element-list-subelements-nav-arrow:first").removeClass("is-open"),$(t).attr("data-is-expand","false")}__createMobileContent(){this.__curRowElement=$("<div></div>").addClass("tchmi-nav-content-mobile-row-element");let e=$("<ul></ul>").addClass("tchmi-nav-content-mobile-column-element-list");for(let n=0;n<this.__menuSourceData.length;n++)if(this.__menuSourceData[n]){let i=this.__menuSourceData[n].id+":observe",o=this.__menuSourceData[n].id+":operate",l=t.Access.checkAccess(this,i),s=t.Access.checkAccess(this,o);if(!1===l)continue;let a=$("<li></li>");a.addClass("tchmi-nav-content-column-li-element"),void 0!==this.__columnElementMarginTop&&null!==this.__columnElementMarginTop&&void 0!==this.__columnElementMarginTopUnit&&null!==this.__columnElementMarginTopUnit&&a.addClass("is-headline").css("margin-top",this.__columnElementMarginTop+this.__columnElementMarginTopUnit);let _=$("<a>");if(this.__showIconsMobile&&this.__isNotEmpty(this.__menuSourceData[n].image)){let t=$("<i>").addClass("tchmi-nav-content-image");$(t).css({"background-image":"url("+this.__menuSourceData[n].image+")","margin-left":"10px","margin-right":"0px"}),this.__isNotEmpty(this.__menuSourceData[n].imageWidth)&&this.__isNotEmpty(this.__menuSourceData[n].imageHeight)&&$(t).css({width:this.__menuSourceData[n].imageWidth+this.__menuSourceData[n].imageWidthUnit,height:this.__menuSourceData[n].imageHeight+this.__menuSourceData[n].imageHeightUnit}),_.append(t)}if($(a).attr({"data-head-index":n,"data-event-parameter":this.__menuSourceData[n].parameter,"data-id":this.__menuSourceData[n].id,"data-event-page":this.__menuSourceData[n].page}),!1===s&&(_.addClass("non-operate"),a.addClass("non-operate")),!1!==s){let t=this;this.__showMenuEvents&&($(a).on(this.__showMenuEvents,(function(){t.__setLastHeadId($(this).attr("data-head-index"))})),$(a).on(this.__showMenuEvents,{$this:this},this.__onSubElementFunctionHandler()))}let h=$("<a>"+this.__menuSourceData[n].name+"</a>"),m=this.__getColorOfColorObject(this.__fontColor);if(void 0!==this.__columnTitleFontSize&&null!==this.__columnTitleFontSize&&void 0!==this.__columnTitleFontSizeUnit&&null!==this.__columnTitleFontSizeUnit&&h.css({color:m||"","margin-left":"10px","font-size":this.__columnTitleFontSize+this.__columnTitleFontSizeUnit}),_.append(h),a.append(_),!1!==s&&this.__hasChildren(this.__menuSourceData,n)){$(a).attr("data-is-expand","false");let t=$("<a></a>").addClass("tchmi-nav-content-mobile-column-element-triangle");_.append(t),a.append(this.__createFirstHierarchyMobile(this.__menuSourceData[n].children))}e.append(a)}return this.__curRowElement.append(e),this.__curRowElement}__createFirstHierarchyMobile(e){let n=$("<ul></ul>").addClass("tchmi-nav-content-mobile-column-element-subtitlelist").css({display:"none"});if(e)for(let i=0;i<e.length;i++){if(e[i].showColumnName&&this.__isNotEmpty(e[i].name)){let t=$("<li></li>");t.addClass("tchmi-nav-content-column-li-element"),void 0!==this.__columnElementFontSize&&null!==this.__columnElementFontSize&&void 0!==this.__columnElementFontSizeUnit&&null!==this.__columnElementFontSizeUnit&&void 0!==this.__mobileElementMarginTop&&null!==this.__mobileElementMarginTop&&void 0!==this.__mobileElementMarginTopUnit&&null!==this.__mobileElementMarginTopUnit&&t.addClass("is-headline").css({"font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit,"margin-top":this.__mobileElementMarginTop+this.__mobileElementMarginTopUnit});let o=this.__getColorOfColorObject(this.__fontColor),l=$("<a>"+e[i].name+"</a>").css({color:o||""});this.__showMenuEvents&&$(t).on(this.__showMenuEvents,(function(t){t.stopPropagation()})),t.append(l),n.append(t)}if(this.__hasChildren(e,i))for(let o=0;o<e[i].children.length;o++){let l=e[i].children[o].id+":observe",s=e[i].children[o].id+":operate",a=t.Access.checkAccess(this,l),_=t.Access.checkAccess(this,s);if(!1===a)continue;let h=$("<li></li>");h.addClass("tchmi-nav-content-column-li-element"),void 0!==this.__mobileElementMarginTop&&null!==this.__mobileElementMarginTop&&void 0!==this.__mobileElementMarginTopUnit&&null!==this.__mobileElementMarginTopUnit&&h.css("margin-top",this.__mobileElementMarginTop+this.__mobileElementMarginTopUnit);let m=$("<a>");if(this.__showIconsMobile&&this.__isNotEmpty(e[i].children[o].image)){let t=$("<i>").addClass("tchmi-nav-content-image");$(t).css({"background-image":"url("+e[i].children[o].image+")","margin-left":"10px","margin-right":"0px"}),this.__isNotEmpty(e[i].children[o].imageWidth)&&this.__isNotEmpty(e[i].children[o].imageHeight)&&$(t).css({width:e[i].children[o].imageWidth+e[i].children[o].imageWidthUnit,height:e[i].children[o].imageHeight+e[i].children[o].imageHeightUnit}),m.append(t)}!1===_&&(m.addClass("non-operate"),h.addClass("non-operate")),$(h).attr({"data-event-parameter":e[i].children[o].parameter,"data-id":e[i].children[o].id,"data-event-page":e[i].children[o].page}),!1!==_&&this.__showMenuEvents&&$(h).on(this.__showMenuEvents,{$this:this},this.__onSubElementFunctionHandler());let r=$("<a>"+e[i].children[o].name+"</a>"),c=this.__getColorOfColorObject(this.__fontColor);if(void 0!==this.__columnElementFontSize&&null!==this.__columnElementFontSize&&void 0!==this.__columnElementFontSizeUnit&&null!==this.__columnElementFontSizeUnit&&r.css({color:c||"","margin-left":"10px","font-size":this.__columnElementFontSize+this.__columnElementFontSizeUnit}),m.append(r),h.append(m),!1!==_&&this.__hasChildren(e[i].children,o)){$(h).attr("data-is-expand","false");let t=$("<a></a>").addClass("tchmi-nav-content-mobile-column-element-triangle");m.append(t),h.append(this.__createSubElements(e[i].children[o].children))}n.append(h)}}return n}}e.TcHmiNavigationContent=n}(n=e.ResponsiveNavigation||(e.ResponsiveNavigation={})),e.registerEx("TcHmiNavigationContent","TcHmi.Controls.ResponsiveNavigation",n.TcHmiNavigationContent)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));