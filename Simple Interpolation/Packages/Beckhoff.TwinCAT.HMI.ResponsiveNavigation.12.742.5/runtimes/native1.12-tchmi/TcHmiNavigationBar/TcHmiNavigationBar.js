var TcHmi;!function(t){let e;!function(e){let i;!function(e){class i extends t.Controls.System.TcHmiControl{constructor(t,e,i){super(t,e,i),this.__menuOpen=!1,this.__lastElementId=null,this.__mobileMode=null,this.__desktopView=null,this.__lastDataId=null,this.__showMenuEvents="click",this.__destroyOnResizedListener=null,this.__menuSourceData=void 0,this.__menuSourceDataRaw=void 0,this.__lastcalledParameter=null,this.__lastCalledPage=null,this.__switchBreakpoint=void 0,this.__enableMobileSwitch=void 0,this.__alignment=void 0,this.__listenToWindowResize=void 0,this.__mouseOverShow=void 0,this.__navContentControl=void 0,this.__breadCrumbControlId=void 0,this.__targetRegionControl=void 0,this.__navContentControlSymbolDestroyWatch=void 0,this.__navContentControlSymbol=void 0,this.__breadCrumbControlSymbolDestroyWatch=void 0,this.__breadCrumbControlSymbol=void 0,this.__targetRegionControlSymbolDestroyWatch=void 0,this.__targetRegionControlSymbol=void 0,this.__highlightColor={color:"#FF0000"},this.__fontColor={color:"#000000"},this.__triangleColor={color:"#FFFFFF"},this.__paddingLeftRight=void 0,this.__paddingLeftRightUnit=void 0,this.__fontSize=void 0,this.__fontSizeUnit=void 0,this.__mobileMenuImage=void 0,this.__mobileIconWidth=void 0,this.__mobileIconWidthUnit=void 0,this.__mobileIconHeight=void 0,this.__mobileIconHeightUnit=void 0}__previnit(){this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_ResponsiveNavigation_TcHmiNavigationBar-Template"),this.__elementNavigationLine=this.__elementTemplateRoot.find(".tchmi-nav-bar-main-container"),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__createNavigationLine();let e=this;this.__listenToWindowResize?$(window).on("resize",(function(){e.__checkBrowserSwitch()})):this.__destroyOnResizedListener=t.EventProvider.register(this.getId()+".onResized",(function(){e.__checkBrowserSwitch()})),this.__objectResolvers.forEach((function(t){return t.resolver.watch(t.watchCallback)}))}__detach(){super.__detach(),this.__listenToWindowResize&&$(window).off("resize"),this.__destroyOnResizedListener&&this.__destroyOnResizedListener(),this.__objectResolvers.forEach((function(t){t.watchDestroyer&&(t.watchDestroyer(),t.watchDestroyer=null)}))}destroy(){super.destroy(),this.__navContentControlSymbolDestroyWatch&&(this.__navContentControlSymbolDestroyWatch(),this.__navContentControlSymbolDestroyWatch=null),this.__breadCrumbControlSymbolDestroyWatch&&(this.__breadCrumbControlSymbolDestroyWatch(),this.__breadCrumbControlSymbolDestroyWatch=null),this.__targetRegionControlSymbolDestroyWatch&&(this.__targetRegionControlSymbolDestroyWatch(),this.__targetRegionControlSymbolDestroyWatch=null),this.__navContentControlSymbol&&(this.__navContentControlSymbol.destroy(),this.__navContentControlSymbol=null),this.__breadCrumbControlSymbol&&(this.__breadCrumbControlSymbol.destroy(),this.__breadCrumbControlSymbol=null),this.__targetRegionControlSymbol&&(this.__targetRegionControlSymbol.destroy(),this.__targetRegionControlSymbol=null),this.__objectResolvers.forEach((function(t){t.watchDestroyer&&t.watchDestroyer(),t.resolver.destroy()})),this.__objectResolvers.clear()}setMenuSourceData(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuSourceData")),this.__menuSourceDataRaw=e;let i=this.__objectResolvers.get("MenuSourceData");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let n=new t.Symbol.ObjectResolver(e),o=this.__onResolverForMenuSourceDataCallback();this.__objectResolvers.set("MenuSourceData",{resolver:n,watchCallback:o,watchDestroyer:n.watch(o)})}getMenuSourceData(){return this.__menuSourceData}getMenuSourceDataRaw(){return this.__menuSourceDataRaw}__onResolverForMenuSourceDataCallback(){let e=this;return function(i){!1===e.__isAttached&&i.destroy&&i.destroy(),tchmi_equal(i.value,e.__menuSourceData)||(e.__menuSourceData=i.value,t.EventProvider.raise(e.getId()+".onFunctionResultChanged",["getMenuSourceData"]),e.__processMenuSourceData())}}__processMenuSourceData(){this.__generateItemIds(null,this.__menuSourceData),this.__navContentControl&&this.__navContentControl.setMenuSourceData(this.__menuSourceData),!0===this.__isAttached&&this.__createNavigationLine()}setHighlightColor(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("HighLightColor")),tchmi_equal(e,this.__highlightColor)||(this.__highlightColor=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getHighlightColor"]),this.__processHighlightColor())}getHighlightColor(){return this.__highlightColor}__processHighlightColor(){this.__elementNavigationLine&&(t.StyleProvider.processTextColor(this.__elementNavigationLine.find(".tchmi-nav-bar-list > li.has-dropdown.is-open"),this.__highlightColor),t.StyleProvider.processTextColor(this.__elementNavigationLine.find(".tchmi-nav-bar-list > li > a:hover"),this.__highlightColor),t.StyleProvider.processTextColor(this.__elementNavigationLine.find(".tchmi-nav-bar-list > li.has-dropdown.is-open > a"),this.__highlightColor),t.StyleProvider.processTextColor(this.__elementNavigationLine.find(".tchmi-nav-bar-list > li.has-dropdown"),this.__highlightColor))}setFontColor(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontColor")),tchmi_equal(e,this.__fontColor)||(this.__fontColor=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontColor"]),this.__processFontColor())}getFontColor(){return this.__fontColor}__processFontColor(){this.__elementNavigationLine&&t.StyleProvider.processTextColor(this.__elementNavigationLine.find(".tchmi-nav-bar-list > li > a"),this.__fontColor)}setTriangleColor(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TriangleColor")),tchmi_equal(e,this.__triangleColor)||(this.__triangleColor=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getTriangleColor"]),this.__processTriangleColor())}getTriangleColor(){return this.__triangleColor}__processTriangleColor(){if(!this.__elementNavigationLine)return;let t=this.__getColorOfColorObject(this.__triangleColor);this.__elementNavigationLine.find(".tchmi-nav-bar-triangle").css({"border-bottom-color":t||""})}setFontSize(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontSize")),e!==this.__fontSize&&(this.__fontSize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontSize"]),this.__processFontSize())}getFontSize(){return this.__fontSize}__processFontSize(){this.__elementNavigationLine&&void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&this.__elementNavigationLine.find(".tchmi-nav-bar-list > li > a ").css({"font-size":this.__fontSize+this.__fontSizeUnit})}setFontSizeUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("FontSizeUnit")),e!==this.__fontSizeUnit&&(this.__fontSizeUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getFontSizeUnit"]),this.__processFontSizeUnit())}getFontSizeUnit(){return this.__fontSizeUnit}__processFontSizeUnit(){this.__elementNavigationLine&&void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&this.__elementNavigationLine.find(".tchmi-nav-bar-list > li > a ").css({"font-size":this.__fontSize+this.__fontSizeUnit})}setPaddingLeftRight(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("PaddingLeftRight")),e!==this.__paddingLeftRight&&(this.__paddingLeftRight=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getPaddingLeftRight"]),this.__processPaddingLeftRight())}getPaddingLeftRight(){return this.__paddingLeftRight}__processPaddingLeftRight(){this.__elementNavigationLine&&void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&this.__elementNavigationLine.find(".tchmi-nav-bar-sub-container").css({"padding-left":this.__paddingLeftRight+this.__paddingLeftRightUnit,"padding-right":this.__paddingLeftRight+this.__paddingLeftRightUnit})}setPaddingLeftRightUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("PaddingLeftRightUnit")),e!==this.__paddingLeftRightUnit&&(this.__paddingLeftRightUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getPaddingLeftRightUnit"]),this.__processPaddingLeftRightUnit())}getPaddingLeftRightUnit(){return this.__paddingLeftRightUnit}__processPaddingLeftRightUnit(){this.__elementNavigationLine&&void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&this.__elementNavigationLine.find(".tchmi-nav-bar-sub-container").css({"padding-left":this.__paddingLeftRight+this.__paddingLeftRightUnit,"padding-right":this.__paddingLeftRight+this.__paddingLeftRightUnit})}setSwitchBreakpoint(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SwitchBreakpoint")),e!==this.__switchBreakpoint&&(this.__switchBreakpoint=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getSwitchBreakpoint"]),this.__processSwitchBreakpoint())}getSwitchBreakpoint(){return this.__switchBreakpoint}__processSwitchBreakpoint(){this.__isAttached&&this.__checkBrowserSwitch()}setEnableMobileSwitch(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("EnableMobileSwitch")),e!==this.__enableMobileSwitch&&(this.__enableMobileSwitch=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getEnableMobileSwitch"]),this.__processEnableMobileSwitch())}getEnableMobileSwitch(){return this.__enableMobileSwitch}__processEnableMobileSwitch(){!0===this.__isAttached&&this.__createNavigationLine()}setMobileMenuImage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileMenuImage")),e!==this.__mobileMenuImage&&(this.__mobileMenuImage=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileMenuImage"]),this.__processMobileMenuImage())}getMobileMenuImage(){return this.__mobileMenuImage}__processMobileMenuImage(){this.__elementNavigationLine&&(this.__mobileMenuImage?t.StyleProvider.setSimpleElementStyle(this.__elementNavigationLine.find(".tchmi-nav-bar-mobile-container-menu-burger"),{"background-image":"url("+this.__mobileMenuImage+")"}):t.StyleProvider.setSimpleElementStyle(this.__elementNavigationLine.find(".tchmi-nav-bar-mobile-container-menu-burger"),{"background-image":""}))}setMobileIconWidth(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileIconWidth")),e!==this.__mobileIconWidth&&(this.__mobileIconWidth=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileIconWidth"]),this.__processMobileIconWidth())}getMobileIconWidth(){return this.__mobileIconWidth}__processMobileIconWidth(){var t,e;if(!this.__desktopView){let i=null===(e=null===(t=this.__elementNavigationLine)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!i||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)i&&this.__mobileIconWidth&&this.__mobileIconWidthUnit&&(i.style.width=this.__mobileIconWidth+this.__mobileIconWidthUnit);else{let t=this.__element.height();if(null!=t){let e=t-16;i.style.width=e+"px",i.style.height=e+"px"}}}}setMobileIconWidthUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileIconWidthUnit")),e!==this.__mobileIconWidthUnit&&(this.__mobileIconWidthUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileIconWidthUnit"]),this.__processMobileIconWidthUnit())}getMobileIconWidthUnit(){return this.__mobileIconWidthUnit}__processMobileIconWidthUnit(){var t,e;if(!this.__desktopView){let i=null===(e=null===(t=this.__elementNavigationLine)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!i||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)i&&this.__mobileIconWidth&&this.__mobileIconWidthUnit&&(i.style.width=this.__mobileIconWidth+this.__mobileIconWidthUnit);else{let t=this.__element.height();if(null!=t){let e=t-16;i.style.width=e+"px",i.style.height=e+"px"}}}}setMobileIconHeight(valueNew){let e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileIconHeight")),e!==this.__mobileIconHeight&&(this.__mobileIconHeight=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileIconHeight"]),this.__processMobileIconHeigth())}getMobileIconHeight(){return this.__mobileIconHeight}__processMobileIconHeigth(){var t,e;if(!this.__desktopView){let i=null===(e=null===(t=this.__elementNavigationLine)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!i||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)i&&this.__mobileIconHeight&&this.__mobileIconHeightUnit&&(i.style.width=this.__mobileIconHeight+this.__mobileIconHeightUnit);else{let t=this.__element.height();if(null!=t){let e=t-16;i.style.width=e+"px",i.style.height=e+"px"}}}}setMobileIconHeightUnit(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MobileIconHeightUnit")),e!==this.__mobileIconHeightUnit&&(this.__mobileIconHeightUnit=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMobileIconHeightUnit"]),this.__processMobileIconHeigthUnit())}getMobileIconHeightUnit(){return this.__mobileIconHeightUnit}__processMobileIconHeigthUnit(){var t,e;if(!this.__desktopView){let i=null===(e=null===(t=this.__elementNavigationLine)||void 0===t?void 0:t[0])||void 0===e?void 0:e.getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!i||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)i&&this.__mobileIconHeight&&this.__mobileIconHeightUnit&&(i.style.width=this.__mobileIconHeight+this.__mobileIconHeightUnit);else{let t=this.__element.height();if(null!=t){let e=t-16;i.style.width=e+"px",i.style.height=e+"px"}}}}__setDesktopView(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("DesktopView")),e!==this.__desktopView&&(this.__desktopView=e,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DesktopView"}))}getDesktopView(){return this.__desktopView}setNavContentControl(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("NavContentControl")),e!==this.__navContentControl&&(this.__navContentControl=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getNavContentControl"]),this.__processNavContentControl())}getNavContentControl(){return this.__navContentControl}__processNavContentControl(){this.__navContentControl&&(this.__navContentControl.setMenuSourceData(this.__menuSourceData),this.__navContentControl.setMasterID(this.getId()),this.__navContentControl.setShowMenuEvents(this.__mouseOverShow,this.__showMenuEvents))}setBreadCrumbControl(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("BreadCrumbControl")),e!==this.__breadCrumbControlId&&(this.__breadCrumbControlId=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getBreadCrumbControl"]),this.__processBreadCrumbControl())}getBreadCrumbControl(){return this.__breadCrumbControlId}__processBreadCrumbControl(){}setNavContentControlSymbol(valueNew){let e=valueNew;if(null===e){let i=this.getAttributeDefaultValueInternal("NavContentControlSymbol");i&&(e=new t.Symbol(i))}this.__navContentControlSymbol!==e&&(this.__navContentControlSymbolDestroyWatch&&(this.__navContentControlSymbolDestroyWatch(),this.__navContentControlSymbolDestroyWatch=null),e instanceof t.Symbol?(this.__navContentControlSymbol=e,this.__navContentControlSymbolDestroyWatch=this.__navContentControlSymbol.watch(this.__onNavContentControlSymbolWatch())):void 0===this.__navContentControlSymbol?this.__navContentControlSymbol=null:(this.__navContentControlSymbol=null,this.__processNavContentControlSymbol()),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControlSymbol"}))}getNavContentControlSymbol(){return this.__navContentControlSymbol}__processNavContentControlSymbol(e){if(!this.__navContentControlSymbol)return this.__navContentControl=null,void t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControl"});void 0===e&&(e=null),this.__navContentControl!==e&&(t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControl"}),this.__navContentControl=e),this.__processNavContentControl()}__onNavContentControlSymbolWatch(){return e=>{e.error===t.Errors.NONE?this.__processNavContentControlSymbol(e.value):e.details&&e.error!==t.Errors.E_CONTROL_INSTANCE_NOT_FOUND&&TCHMI_CONSOLE_LOG_LEVEL>=1&&t.Log.error("[Source=Control, Module=TcHmi.Controls.ResponsiveNavigation.TcHmiNavigationBar, Id="+this.getId()+", Property=NavContentControlSymbol, "+(this.__navContentControlSymbol?"Symbol = "+this.__navContentControlSymbol.getExpression().toString():"")+"] "+t.Log.buildMessage(e.details))}}setBreadCrumbControlSymbol(valueNew){let e=valueNew;if(null===e){let i=this.getAttributeDefaultValueInternal("BreadCrumbControlSymbol");i&&(e=new t.Symbol(i))}this.__breadCrumbControlSymbol!==e&&(this.__breadCrumbControlSymbolDestroyWatch&&(this.__breadCrumbControlSymbolDestroyWatch(),this.__breadCrumbControlSymbolDestroyWatch=null),e instanceof t.Symbol?(this.__breadCrumbControlSymbol=e,this.__breadCrumbControlSymbolDestroyWatch=this.__breadCrumbControlSymbol.watch(this.__onBreadCrumbControlSymbolWatch())):void 0===this.__breadCrumbControlSymbol?this.__breadCrumbControlSymbol=null:(this.__breadCrumbControlSymbol=null,this.__processBreadCrumbControlSymbol()),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControlSymbol"}))}getBreadCrumbControlSymbol(){return this.__breadCrumbControlSymbol}__processBreadCrumbControlSymbol(e){if(!this.__breadCrumbControlSymbol)return this.__breadCrumbControlId=null,void t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControl"});void 0===e&&(e=null),e&&this.__breadCrumbControlId!==e.getId()&&(this.__breadCrumbControlId=e.getId(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControl"}))}__onBreadCrumbControlSymbolWatch(){return e=>{e.error===t.Errors.NONE?this.__processBreadCrumbControlSymbol(e.value):e.details&&e.error!==t.Errors.E_CONTROL_INSTANCE_NOT_FOUND&&TCHMI_CONSOLE_LOG_LEVEL>=1&&t.Log.error("[Source=Control, Module=TcHmi.Controls.ResponsiveNavigation.TcHmiNavigationBar, Id="+this.getId()+", Property=BreadCrumbControlSymbol, "+(this.__breadCrumbControlSymbol?"Symbol = "+this.__breadCrumbControlSymbol.getExpression().toString():"")+"] "+t.Log.buildMessage(e.details))}}setTargetRegionControl(valueNew){let e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TargetRegionControl")),e!==this.__targetRegionControl&&(this.__targetRegionControl=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getTargetRegionControl"]))}getTargetRegionControl(){return this.__targetRegionControl}setTargetRegionControlSymbol(valueNew){let e=valueNew;if(null===e){let i=this.getAttributeDefaultValueInternal("TargetRegionControlSymbol");i&&(e=new t.Symbol(i))}this.__targetRegionControlSymbol!==e&&(this.__targetRegionControlSymbolDestroyWatch&&(this.__targetRegionControlSymbolDestroyWatch(),this.__targetRegionControlSymbolDestroyWatch=null),e instanceof t.Symbol?(this.__targetRegionControlSymbol=e,this.__targetRegionControlSymbolDestroyWatch=this.__targetRegionControlSymbol.watch(this.__onTargetRegionControlSymbol())):void 0===this.__breadCrumbControlSymbol?this.__targetRegionControlSymbol=null:(this.__targetRegionControlSymbol=null,this.__processTargetRegionControlSymbol()),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControlSymbol"}))}getTargetRegionControlSymbol(){return this.__targetRegionControlSymbol}__processTargetRegionControlSymbol(e){if(!this.__targetRegionControlSymbol)return this.__targetRegionControl=null,void t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControl"});void 0===e&&(e=null),this.__targetRegionControl!==e&&(this.__targetRegionControl=e,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControl"}))}__onTargetRegionControlSymbol(){return e=>{e.error===t.Errors.NONE?this.__processTargetRegionControlSymbol(e.value):e.details&&e.error!==t.Errors.E_CONTROL_INSTANCE_NOT_FOUND&&TCHMI_CONSOLE_LOG_LEVEL>=1&&t.Log.error("[Source=Control, Module=TcHmi.Controls.ResponsiveNavigation.TcHmiNavigationBar, Id="+this.getId()+", Property=TargetRegionControlSymbol, "+(this.__targetRegionControlSymbol?"Symbol = "+this.__targetRegionControlSymbol.getExpression().toString():"")+"] "+t.Log.buildMessage(e.details))}}setAlignment(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("Alignment")),e!==this.__alignment&&(this.__alignment=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getAlignment"]),this.__processAlignment())}getAlignment(){return this.__alignment}__processAlignment(){this.__isAttached&&this.__menuOpen&&(this.__myTriangle&&("Bottom"===this.__alignment?this.__myTriangle.css({transform:"rotate(180deg)",top:"0px"}):this.__myTriangle.css({transform:"rotate(0deg)",bottom:"-1px"})),this.__lastElementId&&this.__loadNavContent(this.__lastElementId))}__setLastEventParameter(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("LastEventParameter")),e!==this.__lastcalledParameter&&(this.__lastcalledParameter=e,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LastEventParameter"}))}getLastEventParameter(){return this.__lastcalledParameter}__setLastPage(valueNew){let e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("LastPage")),e!==this.__lastCalledPage&&(this.__lastCalledPage=e,t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LastPage"}))}getLastPage(){return this.__lastCalledPage}setListenToWindowResize(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ListenToWindowResize")),e!==this.__listenToWindowResize&&(this.__listenToWindowResize=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getListenToWindowResize"]),this.__processListenToWindowResize())}getListenToWindowResize(){return this.__listenToWindowResize}__processListenToWindowResize(){if(!this.__isAttached)return;let e=this;this.__listenToWindowResize?($(window).on("resize",(function(){e.__checkBrowserSwitch()})),this.__destroyOnResizedListener&&this.__destroyOnResizedListener()):(this.__destroyOnResizedListener=t.EventProvider.register(this.getId()+".onResized",(function(){e.__checkBrowserSwitch()})),$(window).off("resize"))}setMouseOverShow(valueNew){let e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MouseOverShow")),e!==this.__mouseOverShow&&(this.__mouseOverShow=e,t.EventProvider.raise(this.getId()+".onFunctionResultChanged",["getMouseOverShow"]),this.__processMouseOverShow())}getMouseOverShow(){return this.__mouseOverShow}__processMouseOverShow(){this.__mouseOverShow?this.__showMenuEvents="click mouseover":this.__showMenuEvents="click",this.__createNavigationLine(),this.__navContentControl&&this.__navContentControl.setShowMenuEvents(this.__mouseOverShow,this.__showMenuEvents)}getAccessConfig(){const t=super.getAccessConfig();return this.__getSubRights(this.__menuSourceData,t)}getDescriptionAccessByName(){return{defaultValueInternal:!0}}__getSubRights(t,e){var i,n;if(!t)return e;for(let o=0;o<t.length;o++)if(0!==(null===(n=null===(i=t[o])||void 0===i?void 0:i.accessRight)||void 0===n?void 0:n.length)){for(let i=0;i<t[o].accessRight.length;i++)if(t[o].accessRight[i]){let n={accessright:t[o].id+":"+t[o].accessRight[i].accessright,group:t[o].accessRight[i].group,permission:t[o].accessRight[i].permission};e.push(n)}t[o].children&&this.__getSubRights(t[o].children,e)}return e}__generateItemIds(t,e){if(null==e)return null;let i="";for(let n=0;n<e.length;n++)i=null==t?n.toString():t+":"+n,e[n]&&(e[n].id=i,e[n].children&&(e[n].children=this.__generateItemIds(i,e[n].children)));return e}raiseOnPageCalled(e,i,n){e?this.__setLastEventParameter(e):this.__setLastEventParameter("PARAMETER_NOT_SET"),t.EventProvider.raise(this.getId()+".onPageCalled",{parameter:e,page:n}),n?(this.__setLastPage(n),this.__targetRegionControl&&this.__targetRegionControl.setTargetContent(n)):this.__setLastPage("PAGE_NOT_SET");let o=t.Controls.get(this.__breadCrumbControlId);if(n&&o)if(o.setMasterID(this.getId()),i){this.__lastDataId=i;let t=this.__generatePathObject(i);o.setPath(t)}else o.clearDisplay(),this.__lastDataId=null}raiseOnMenuClosed(){t.EventProvider.raise(this.getId()+".onMenuClosed")}setLastHeadId(id){this.__lastElementId=id}__generatePathObject(t){let e=t.split(":");if(0===e.length)return null;let i=[],n=this.__menuSourceData,o=e[0],r=!1;if((this.__menuSourceData[e[0]].page||this.__menuSourceData[e[0]].parameter)&&(r=!0),i.push({name:this.__menuSourceData[e[0]].name,event:this.__menuSourceData[e[0]].parameter,page:this.__menuSourceData[e[0]].page,data:o,clickable:r}),e.length>2){this.__menuSourceData[e[0]].children[e[1]].showColumnName&&(o+=":"+e[1],i.push({name:this.__menuSourceData[e[0]].children[e[1]].name,event:"",clickable:!1})),n=this.__menuSourceData[e[0]].children[e[1]];for(let t=2;t<e.length;t++)n=n.children[e[t]],o+=":"+e[t],i.push({name:n.name,event:n.parameter,page:n.page,data:o,clickable:!0})}return i}__loadNavContent(t){this.__navContentControl&&this.__navContentControl.loadContentView(t,this.__isMobileView(),this.__enableMobileSwitch,this.__alignment)}closeMenu(){this.__menuOpen=!1,this.__hideNavContent(),this.__elementNavigationLine&&(this.__elementNavigationLine.find("[data-id='"+this.__lastElementId+"']").removeClass("is-open"),$.each($(this.__elementNavigationLine).find(".tchmi-nav-bar-triangle"),(function(){$(this).remove()})))}__hideNavContent(){this.__navContentControl&&this.__navContentControl.hideNavContent()}__getTriangleElement(){if(!this.__myTriangle){let t=this.__getColorOfColorObject(this.__triangleColor),e=$("<a>").addClass("tchmi-nav-bar-triangle").css({"border-bottom-color":t||""});this.__myTriangle=e}return"Bottom"===this.__alignment?this.__myTriangle.css({transform:"rotate(180deg)",top:"0px"}):this.__myTriangle.css({transform:"rotate(0deg)",bottom:"-1px"}),this.__isMobileView()?this.__myTriangle.css({"margin-left":"-4px"}):this.__myTriangle.css({"margin-left":"-10px"}),this.__myTriangle}__getColorOfColorObject(e){return e&&null!==e.color&&void 0!==e.color?"None"===e.color?"rgba(0,0,0,0)":t.ValueConverter.toString(e.color):null}__clearHeadline(){this.__elementNavigationLine&&(this.__elementNavigationLine.find(".tchmi-nav-bar-sub-container").remove(),this.__elementNavigationLine.find(".tchmi-nav-bar-mobile-container").remove())}__isMobileView(){let t;if(TCHMI_DESIGNER){let e=this;for(;e&&e.getParent();)e=e.getParent();e&&(t=e.getRenderedWidth())}else t=$(document.body).width();let e=this.__switchBreakpoint;return null!=t&&null!=e&&t<e?(this.__setDesktopView(!1),!0):(this.__setDesktopView(!0),!1)}__checkBrowserSwitch(){if(!1===this.__isAttached)return;if(0===this.getRenderedHeight())return;if(0===this.getRenderedWidth())return;let e=this.__isMobileView();if((this.__mobileMode&&!e||e&&!this.__mobileMode||null===this.__mobileMode)&&(this.__mobileMode=e,t.EventProvider.raise(this.getId()+".onViewSwitched"),this.__createNavigationLine(),this.__menuOpen)){if(null===this.__lastElementId)return this.__menuOpen=!1,this.__hideNavContent(),void t.EventProvider.raise(this.getId()+".onMenuClosed");this.__mobileMode&&this.__enableMobileSwitch?this.__elementNavigationLine&&this.__elementNavigationLine.find(".tchmi-nav-bar-mobile-container-menu").append(this.__getTriangleElement()):this.__elementNavigationLine&&(this.__lastHeadElement=this.__elementNavigationLine.find("[data-id='"+this.__lastElementId+"']"),this.__lastHeadElement&&this.__lastHeadElement.addClass("is-open").children().append(this.__getTriangleElement())),this.__loadNavContent(this.__lastElementId)}}__createNavigationLine(){if(null===this.__menuSourceData||void 0===this.__menuSourceData)return;if(0===this.__menuSourceData.length)return;let e=t.Controls.get(this.__breadCrumbControlId);if(e)if(e.setMasterID(this.getId()),this.__lastDataId){let t=this.__generatePathObject(this.__lastDataId);e.setPath(t)}else e.clearDisplay();if(this.__clearHeadline(),this.__isMobileView()&&this.__enableMobileSwitch){let e=$("<div>").addClass("tchmi-nav-bar-mobile-container"),i=$("<a>").addClass("tchmi-nav-bar-mobile-container-menu"),n=$("<i>").addClass("tchmi-nav-bar-mobile-container-menu-burger"),o=this;if(0===this.__mobileIconWidth||0===this.__mobileIconHeight){this.__mobileMenuImage&&n.css({"background-image":"url("+this.__mobileMenuImage+")"});let t=this.__element.height();if(null!=t){let e=t-16;n.css({width:e+"px",height:e+"px"})}}else this.__mobileMenuImage&&n.css({"background-image":"url("+this.__mobileMenuImage+")"}),void 0!==o.__mobileIconWidth&&null!==o.__mobileIconWidth&&(void 0!==o.__mobileIconWidthUnit&&null!==o.__mobileIconWidthUnit?n.css({width:o.__mobileIconWidth+o.__mobileIconWidthUnit}):n.css({width:o.__mobileIconWidth+"px"})),void 0!==o.__mobileIconHeight&&null!==o.__mobileIconHeight&&(void 0!==o.__mobileIconHeightUnit&&null!==o.__mobileIconHeightUnit?n.css({height:o.__mobileIconHeight+o.__mobileIconHeightUnit}):n.css({height:o.__mobileIconHeight+"px"}));i.append(n),i.on(this.__showMenuEvents,(function(e){o.__menuOpen&&!o.__mouseOverShow?(o.__menuOpen=!1,o.__hideNavContent(),$(this).find(".tchmi-nav-bar-triangle").remove(),t.EventProvider.raise(o.getId()+".onMenuClosed")):(o.__menuOpen=!0,o.__loadNavContent(),$(this).append(o.__getTriangleElement()),t.EventProvider.raise(o.getId()+".onMenuOpened")),o.__lastElementId=void 0})),e.append(i),this.__elementNavigationLine&&this.__elementNavigationLine.append(e)}else{void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&(this.__headlineContainer=$("<div></div>").addClass("tchmi-nav-bar-sub-container").css({"padding-left":this.__paddingLeftRight+this.__paddingLeftRightUnit,"padding-right":this.__paddingLeftRight+this.__paddingLeftRightUnit})),this.__curHeadlineList=$("<ul></ul>").addClass("tchmi-nav-bar-list");for(let e=0;e<this.__menuSourceData.length;e++)if(this.__menuSourceData[e]){let i=this.__menuSourceData[e].id+":observe",n=this.__menuSourceData[e].id+":operate",o=t.Access.checkAccess(this,i),r=t.Access.checkAccess(this,n);if(!1===o)continue;let s=$("<li></li>").addClass("has-dropdown"),l=$("<a>"),_=this.__getColorOfColorObject(this.__fontColor);if(void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&l.css({color:_||"","font-size":this.__fontSize+this.__fontSizeUnit}),this.__isNotEmpty(this.__menuSourceData[e].image)){let t=$("<a></a>").addClass("tchmi-nav-bar-nav-content-image-container"),i=$("<i>").addClass("tchmi-nav-bar-image").css({"background-image":"url("+this.__menuSourceData[e].image+")"});if(this.__isNotEmpty(this.__menuSourceData[e].name)||i.css({"margin-right":"0px"}),this.__isNotEmpty(this.__menuSourceData[e].imageWidth)&&this.__isNotEmpty(this.__menuSourceData[e].imageHeight)){let t=this.__element.height();void 0!==t&&this.__menuSourceData[e].imageHeight>t?i.css({width:this.__menuSourceData[e].imageWidth+this.__menuSourceData[e].imageWidthUnit,height:"100%"}):i.css({width:this.__menuSourceData[e].imageWidth+this.__menuSourceData[e].imageWidthUnit,height:this.__menuSourceData[e].imageHeight+this.__menuSourceData[e].imageHeightUnit})}t.append(i),s.append(t)}l.append(this.__menuSourceData[e].name);let a=this;s.attr({"data-event-parameter":this.__menuSourceData[e].parameter,"data-event-page":this.__menuSourceData[e].page,"data-id":this.__menuSourceData[e].id}),!1===r&&(l.addClass("non-operate"),s.addClass("non-operate")),l.hover((function(){t.StyleProvider.processTextColor(this,a.__highlightColor)}),(function(){t.StyleProvider.processTextColor(this,a.__fontColor)})),!1!==r&&(s.on(this.__showMenuEvents,(function(e){a.__lastHeadElement&&(!a.__mouseOverShow||a.__mouseOverShow&&a.__lastElementId!==$(this).attr("data-id"))&&a.__lastHeadElement.find(".tchmi-nav-bar-triangle").remove(),a.__menuOpen&&(!a.__mouseOverShow||a.__mouseOverShow&&"click"===e.type)?a.__lastElementId===$(this).attr("data-id")?($(this).find(".tchmi-nav-bar-triangle").remove(),a.__menuOpen=!1,$(this).removeClass("is-open"),a.__hideNavContent(),t.EventProvider.raise(a.getId()+".onMenuClosed")):(a.__lastHeadElement&&a.__lastHeadElement.removeClass("is-open"),a.__hasChildren(a.__menuSourceData,$(this).attr("data-id"))?($(this).addClass("is-open"),$(this).children().append(a.__getTriangleElement()),a.__loadNavContent($(this).attr("data-id")),t.EventProvider.raise(a.getId()+".onMenuOpened")):(a.__menuOpen=!1,a.__hideNavContent(),t.EventProvider.raise(a.getId()+".onMenuClosed"))):(!1===a.__menuOpen&&(null===a.__curHeadElement||a.__curHeadElement&&a.__lastHeadElement&&a.__curHeadElement!==a.__lastHeadElement[0]||"click"===e.type)||!a.__mouseOverShow||a.__mouseOverShow&&a.__lastElementId!==$(this).attr("data-id"))&&(a.__hasChildren(a.__menuSourceData,$(this).attr("data-id"))?(a.__menuOpen=!0,$(this).addClass("is-open"),$(this).children().append(a.__getTriangleElement()),a.__loadNavContent($(this).attr("data-id")),t.EventProvider.raise(a.getId()+".onMenuOpened")):(a.__hideNavContent(),a.__menuOpen=!1,t.EventProvider.raise(a.getId()+".onMenuClosed")),a.__lastElementId!==$(this).attr("data-id")&&a.__lastHeadElement&&$(a.__lastHeadElement).removeClass("is-open")),"click"===e.type&&a.raiseOnPageCalled($(this).attr("data-event-parameter"),$(this).attr("data-id"),$(this).attr("data-event-page")),a.__lastElementId=$(this).attr("data-id"),a.__lastHeadElement=$(this)})),s.hover((function(){a.__curHeadElement=this}),(function(){a.__curHeadElement=null}))),s.append(l),this.__curHeadlineList.append(s)}this.__headlineContainer&&(this.__headlineContainer.append(this.__curHeadlineList),this.__elementNavigationLine&&this.__elementNavigationLine.append(this.__headlineContainer))}}__hasChildren(t,e){return void 0!==e&&(null!==t[e].children&&void 0!==t[e].children&&0!==t[e].children.length)}__isNotEmpty(t){return null!=t&&""!==t}}e.TcHmiNavigationBar=i}(i=e.ResponsiveNavigation||(e.ResponsiveNavigation={})),e.registerEx("TcHmiNavigationBar","TcHmi.Controls.ResponsiveNavigation",i.TcHmiNavigationBar)}(e=t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));