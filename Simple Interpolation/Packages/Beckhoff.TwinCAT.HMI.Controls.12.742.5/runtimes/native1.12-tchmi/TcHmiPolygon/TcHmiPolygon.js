var TcHmi;!function(e){let t;!function(t){let o;!function(t){class o extends e.Controls.System.TcHmiControl{constructor(t,o,l){super(t,o,l),this.__resizedEventDestroyEvent=null,this.__onResolverForFillColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("fillColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__fillColor)||(this.__fillColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FillColor"}),this.__processFillColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiPolygon, Id="+this.getId()+", Attribute=FillColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForStrokeColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("strokeColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__strokeColor)||(this.__strokeColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StrokeColor"}),this.__processStrokeColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiPolygon, Id="+this.getId()+", Attribute=StrokeColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))}}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiPolygon-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-polygon-template")),this.__elementSvg=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiPolygon-template-svg"),0===this.__elementSvg.length&&(this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-polygon-template-svg")),this.__elementSvgPolygon=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiPolygon-template-svg-polygon"),0===this.__elementSvgPolygon.length&&(this.__elementSvgPolygon=this.__elementTemplateRoot.find(".tchmi-polygon-template-svg-polygon")),0===this.__elementTemplateRoot.length||0===this.__elementSvg.length||0===this.__elementSvgPolygon.length)throw new Error("Invalid Template.html");super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__resizedEventDestroyEvent=e.EventProvider.register(this.__id+".onResized",this.__onResized())}__detach(){super.__detach(),null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null)}destroy(){this.__keepAlive||super.destroy()}__onResized(){return(e,t)=>{"None"!==this.__scaleMode&&this.__processPoints()}}setFillColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("FillColor"));let o=this.__objectResolvers.get("fillColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let l=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("fillColor",{resolver:l,watchCallback:this.__onResolverForFillColorWatchCallback,watchDestroyer:l.watch(this.__onResolverForFillColorWatchCallback)})}getFillColor(){return this.__fillColor}__processFillColor(){e.StyleProvider.processFillColor(this.__elementSvgPolygon,this.__fillColor)}setFillMode(valueNew){let t=e.ValueConverter.toString(valueNew);if(null===t&&(t=this.getAttributeDefaultValueInternal("FillMode")),t!==this.__fillMode){switch(t){case"EvenOdd":this.__fillMode=t;break;default:this.__fillMode="NonZero"}e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FillMode"}),this.__processFillMode()}}getFillMode(){return this.__fillMode}__processFillMode(){switch(this.__fillMode){case"EvenOdd":e.StyleProvider.setSimpleElementStyle(this.__elementSvgPolygon,"fill-rule","evenodd");break;case"NonZero":default:e.StyleProvider.setSimpleElementStyle(this.__elementSvgPolygon,"fill-rule","")}this.__elementSvgPolygon.remove(),this.__elementSvg.append(this.__elementSvgPolygon)}setStrokeColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("StrokeColor"));let o=this.__objectResolvers.get("strokeColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let l=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("strokeColor",{resolver:l,watchCallback:this.__onResolverForStrokeColorWatchCallback,watchDestroyer:l.watch(this.__onResolverForStrokeColorWatchCallback)})}getStrokeColor(){return this.__strokeColor}__processStrokeColor(){e.StyleProvider.processStrokeColor(this.__elementSvgPolygon,this.__strokeColor)}setStrokeStyle(valueNew){let t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("StrokeStyle")),t!==this.__strokeStyle&&(this.__strokeStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StrokeStyle"}),this.__processStrokeStyle())}getStrokeStyle(){return this.__strokeStyle}__processStrokeStyle(){e.StyleProvider.setSimpleElementStyle(this.__elementSvgPolygon,"stroke-dasharray",this.__strokeStyle)}setStrokeThickness(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("StrokeThickness")),t!==this.__strokeThickness&&(this.__strokeThickness=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StrokeThickness"}),this.__processStrokeThickness())}getStrokeThickness(){return this.__strokeThickness}__processStrokeThickness(){"number"!=typeof this.__strokeThickness?e.StyleProvider.setSimpleElementStyle(this.__elementSvgPolygon,"stroke-width",null):e.StyleProvider.setSimpleElementStyle(this.__elementSvgPolygon,"stroke-width",this.__strokeThickness.toString())}getStrokeThicknessUnit(){return"px"}__processStrokeThicknessUnit(){}setPoints(valueNew){let t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Points")),t!==this.__points&&(this.__points=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Points"}),this.__processPoints())}getPoints(){return this.__points}__processPoints(){if(this.__points){let h=this.__points.split(/ |,/).filter((function(e){return""!==e})).map((function(e){return parseFloat(e)}));if(h.length<2)return void this.__elementSvgPolygon[0].setAttribute("points","");if("None"===this.__scaleMode)this.__elementSvgPolygon[0].setAttribute("points",h.join(" "));else{let a=this.getRenderedWidth();if(!a)return;let c=this.getRenderedHeight();if(!c)return;var e=null,t=null,o=null,l=null;for(let r=0,s=h.length;r<s;r++)r%2==0?((null===e||h[r]<e)&&(e=h[r]),(null===o||h[r]>o)&&(o=h[r])):((null===t||h[r]<t)&&(t=h[r]),(null===l||h[r]>l)&&(l=h[r]));var r=o-e,s=l-t,i=a/(r=0!==r?r:a),n=c/(s=0!==s?s:c);switch(this.__scaleMode){case"ScaleToFill":for(let o=0,l=h.length;o<l;o++)h[o]=o%2==0?(h[o]-e)*i:(h[o]-t)*n;break;case"ScaleToFit":var _=i<n?i:n;for(let o=0,l=h.length;o<l;o++)h[o]=o%2==0?(h[o]-e)*_:(h[o]-t)*_;break;case"ScaleToFitWidth":for(let o=0,l=h.length;o<l;o++)h[o]=o%2==0?(h[o]-e)*i:(h[o]-t)*i;break;case"ScaleToFitHeight":for(let o=0,l=h.length;o<l;o++)h[o]=o%2==0?(h[o]-e)*n:(h[o]-t)*n}this.__elementSvgPolygon[0].setAttribute("points",h.join(" "))}}else this.__elementSvgPolygon[0].setAttribute("points","")}setScaleMode(valueNew){let t=e.ValueConverter.toScaleModeString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ScaleMode")),t!==this.__scaleMode&&(this.__scaleMode=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ScaleMode"}),this.__processScaleMode())}getScaleMode(){return this.__scaleMode}__processScaleMode(){this.__processPoints()}}t.TcHmiPolygon=o}(o=t.Beckhoff||(t.Beckhoff={})),t.registerEx("TcHmiPolygon","TcHmi.Controls.Beckhoff",e.Controls.Beckhoff.TcHmiPolygon)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));