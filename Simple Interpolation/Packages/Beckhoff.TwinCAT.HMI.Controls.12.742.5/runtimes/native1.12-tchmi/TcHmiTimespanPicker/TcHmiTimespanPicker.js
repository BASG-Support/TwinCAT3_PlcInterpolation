var TcHmi;!function(e){let t;!function(t){let n;!function(t){class n extends e.Controls.System.TcHmiControl{constructor(e,t,n){super(e,t,n),this.__onMousedownYearUpDestroyEvent=null,this.__onMousedownYearDownDestroyEvent=null,this.__onMousedownMonthUpDestroyEvent=null,this.__onMousedownMonthDownDestroyEvent=null,this.__onMousedownDayUpDestroyEvent=null,this.__onMousedownDayDownDestroyEvent=null,this.__onMousedownHourUpDestroyEvent=null,this.__onMousedownHourDownDestroyEvent=null,this.__onMousedownMinuteUpDestroyEvent=null,this.__onMousedownMinuteDownDestroyEvent=null,this.__onMousedownSecondUpDestroyEvent=null,this.__onMousedownSecondDownDestroyEvent=null,this.__onMousedownMillisecondUpDestroyEvent=null,this.__onMousedownMillisecondDownDestroyEvent=null,this.__onPressedOkDestroyEvent=null,this.__onPressedCancelDestroyEvent=null,this.__onTextChangedYearDestroyEvent=null,this.__onTextChangedMonthDestroyEvent=null,this.__onTextChangedDayDestroyEvent=null,this.__onTextChangedHourDestroyEvent=null,this.__onTextChangedMinuteDestroyEvent=null,this.__onTextChangedSecondDestroyEvent=null,this.__onTextChangedMillisecondDestroyEvent=null,this.__onUserInteractionFinishedYearDestroyEvent=null,this.__onUserInteractionFinishedMonthDestroyEvent=null,this.__onUserInteractionFinishedDayDestroyEvent=null,this.__onUserInteractionFinishedHourDestroyEvent=null,this.__onUserInteractionFinishedMinuteDestroyEvent=null,this.__onUserInteractionFinishedSecondDestroyEvent=null,this.__onUserInteractionFinishedMillisecondDestroyEvent=null,this.__baseControls={},this.__isPressed=!1,this.__intervalTimer=0,this.__mousedownHandler=this.__onMousedown(),this.__mouseupHandler=this.__onMouseup()}__previnit(){this.__elementTSTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-overlay tchmi-timespan-picker-template-overlay tchmi-box"></div>'),this.__elementTSFirstBlockTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-first-block tchmi-timespan-picker-template-first-block tchmi-box"></div>'),this.__elementTSSecondBlockTemplate=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-second-block tchmi-timespan-picker-template-template-second-block tchmi-box"></div>');let t=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-year-template tchmi-timespan-picker-year-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area"></div>'),n=this.__addControls("Year","0000");t.append(n),this.__elementTSFirstBlockTemplate.append(t);let o=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-month-template tchmi-timespan-picker-month-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-editable-area"></div>'),i=this.__addControls("Month","00");o.append(i),this.__elementTSFirstBlockTemplate.append(o);let s=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-day-template tchmi-timespan-picker-day-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area"></div>');s.append(this.__addControls("Day","00")),this.__elementTSFirstBlockTemplate.append(s);let r=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-hour-template tchmi-timespan-picker-hour-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-template-editable-area"></div>');r.append(this.__addControls("Hour","00")),this.__elementTSSecondBlockTemplate.append(r);let _=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-minute-template tchmi-timespan-picker-minute-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area"></div>');_.append(this.__addControls("Minute","00")),this.__elementTSSecondBlockTemplate.append(_);let l=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-second-template tchmi-timespan-picker-second-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area"></div>');l.append(this.__addControls("Second","00")),this.__elementTSSecondBlockTemplate.append(l);let a=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-millisecond-template tchmi-timespan-picker-millisecond-template TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-editable-area tchmi-timespan-picker-template-editable-area"></div>'),d=this.__addControls("Millisecond","000");d.firstChild.style.width="70px",a.append(d),this.__elementTSTemplate[0].appendChild(this.__elementTSFirstBlockTemplate[0]),this.__elementTSTemplate[0].appendChild(this.__elementTSSecondBlockTemplate[0]),this.__elementTSTemplate[0].appendChild(a[0]);let c=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_cancelButton",{"data-tchmi-text":"Cancel"},this);if(void 0===c)throw new Error("Needed Button could not be instantiated");c.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-action-button","tchmi-timespan-picker-template-action-button"),this.__elementTSTemplate[0].appendChild(c.getElement()[0]),c.getElement()[0].style.clear="both",this.__baseControls[this.__id+"_cancelButton"]=c;let m=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_okButton",{"data-tchmi-text":"Ok"},this);if(void 0===m)throw new Error("Needed Button could not be instantiated");m.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-action-button","tchmi-timespan-picker-template-action-button"),this.__elementTSTemplate[0].appendChild(m.getElement()[0]),this.__baseControls[this.__id+"_okButton"]=m,super.__previnit()}__init(){super.__init();this.__element[0].addEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1})}__attach(){super.__attach();document.addEventListener("mouseup",this.__mouseupHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1}),this.__onMousedownYearUpDestroyEvent=e.EventProvider.register(this.__id+"_yearUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownYearDownDestroyEvent=e.EventProvider.register(this.__id+"_yearDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownMonthUpDestroyEvent=e.EventProvider.register(this.__id+"_monthUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownMonthDownDestroyEvent=e.EventProvider.register(this.__id+"_monthDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownDayUpDestroyEvent=e.EventProvider.register(this.__id+"_dayUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownDayDownDestroyEvent=e.EventProvider.register(this.__id+"_dayDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownHourUpDestroyEvent=e.EventProvider.register(this.__id+"_hourUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownHourDownDestroyEvent=e.EventProvider.register(this.__id+"_hourDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownMinuteUpDestroyEvent=e.EventProvider.register(this.__id+"_minuteUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownMinuteDownDestroyEvent=e.EventProvider.register(this.__id+"_minuteDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownSecondUpDestroyEvent=e.EventProvider.register(this.__id+"_secondUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownSecondDownDestroyEvent=e.EventProvider.register(this.__id+"_secondDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownMillisecondUpDestroyEvent=e.EventProvider.register(this.__id+"_millisecondUpButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onMousedownMillisecondDownDestroyEvent=e.EventProvider.register(this.__id+"_millisecondDownButton.onMouseDown",this.__onMousedownTimeButtons()),this.__onPressedOkDestroyEvent=e.EventProvider.register(this.__id+"_okButton.onPressed",this.__onPressed()),this.__onPressedCancelDestroyEvent=e.EventProvider.register(this.__id+"_cancelButton.onPressed",this.__onPressed()),this.__onTextChangedYearDestroyEvent=e.EventProvider.register(this.__id+"_yearValueTextbox.onTextChanged",this.__onTextChanged()),this.__onTextChangedMonthDestroyEvent=e.EventProvider.register(this.__id+"_monthValueTextbox.onTextChanged",this.__onTextChanged()),this.__onTextChangedDayDestroyEvent=e.EventProvider.register(this.__id+"_dayValueTextbox.onTextChanged",this.__onTextChanged()),this.__onTextChangedHourDestroyEvent=e.EventProvider.register(this.__id+"_hourValueTextbox.onTextChanged",this.__onTextChanged()),this.__onTextChangedMinuteDestroyEvent=e.EventProvider.register(this.__id+"_minuteValueTextbox.onTextChanged",this.__onTextChanged()),this.__onTextChangedSecondDestroyEvent=e.EventProvider.register(this.__id+"_secondValueTextbox.onTextChanged",this.__onTextChanged()),this.__onTextChangedMillisecondDestroyEvent=e.EventProvider.register(this.__id+"_millisecondValueTextbox.onTextChanged",this.__onTextChanged()),this.__onUserInteractionFinishedYearDestroyEvent=e.EventProvider.register(this.__id+"_yearValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedMonthDestroyEvent=e.EventProvider.register(this.__id+"_monthValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedDayDestroyEvent=e.EventProvider.register(this.__id+"_dayValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedHourDestroyEvent=e.EventProvider.register(this.__id+"_hourValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedMinuteDestroyEvent=e.EventProvider.register(this.__id+"_minuteValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedSecondDestroyEvent=e.EventProvider.register(this.__id+"_secondValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedMillisecondDestroyEvent=e.EventProvider.register(this.__id+"_millisecondValueTextbox.onUserInteractionFinished",this.__onUserInteractionFinished())}__detach(){super.__detach(),this.__intervalTimer&&(clearInterval(this.__intervalTimer),this.__intervalTimer=0);document.removeEventListener("mouseup",this.__mouseupHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1}),null!==this.__onMousedownYearUpDestroyEvent&&(this.__onMousedownYearUpDestroyEvent(),this.__onMousedownYearUpDestroyEvent=null),null!==this.__onMousedownYearDownDestroyEvent&&(this.__onMousedownYearDownDestroyEvent(),this.__onMousedownYearDownDestroyEvent=null),null!==this.__onMousedownMonthUpDestroyEvent&&(this.__onMousedownMonthUpDestroyEvent(),this.__onMousedownMonthUpDestroyEvent=null),null!==this.__onMousedownMonthDownDestroyEvent&&(this.__onMousedownMonthDownDestroyEvent(),this.__onMousedownMonthDownDestroyEvent=null),null!==this.__onMousedownDayUpDestroyEvent&&(this.__onMousedownDayUpDestroyEvent(),this.__onMousedownDayUpDestroyEvent=null),null!==this.__onMousedownDayDownDestroyEvent&&(this.__onMousedownDayDownDestroyEvent(),this.__onMousedownDayDownDestroyEvent=null),null!==this.__onMousedownHourUpDestroyEvent&&(this.__onMousedownHourUpDestroyEvent(),this.__onMousedownHourUpDestroyEvent=null),null!==this.__onMousedownHourDownDestroyEvent&&(this.__onMousedownHourDownDestroyEvent(),this.__onMousedownHourDownDestroyEvent=null),null!==this.__onMousedownMinuteUpDestroyEvent&&(this.__onMousedownMinuteUpDestroyEvent(),this.__onMousedownMinuteUpDestroyEvent=null),null!==this.__onMousedownMinuteDownDestroyEvent&&(this.__onMousedownMinuteDownDestroyEvent(),this.__onMousedownMinuteDownDestroyEvent=null),null!==this.__onMousedownSecondUpDestroyEvent&&(this.__onMousedownSecondUpDestroyEvent(),this.__onMousedownSecondUpDestroyEvent=null),null!==this.__onMousedownSecondDownDestroyEvent&&(this.__onMousedownSecondDownDestroyEvent(),this.__onMousedownSecondDownDestroyEvent=null),null!==this.__onMousedownMillisecondUpDestroyEvent&&(this.__onMousedownMillisecondUpDestroyEvent(),this.__onMousedownMillisecondUpDestroyEvent=null),null!==this.__onMousedownMillisecondDownDestroyEvent&&(this.__onMousedownMillisecondDownDestroyEvent(),this.__onMousedownMillisecondDownDestroyEvent=null),null!==this.__onPressedOkDestroyEvent&&(this.__onPressedOkDestroyEvent(),this.__onPressedOkDestroyEvent=null),null!==this.__onPressedCancelDestroyEvent&&(this.__onPressedCancelDestroyEvent(),this.__onPressedCancelDestroyEvent=null),null!==this.__onTextChangedYearDestroyEvent&&(this.__onTextChangedYearDestroyEvent(),this.__onTextChangedYearDestroyEvent=null),null!==this.__onTextChangedMonthDestroyEvent&&(this.__onTextChangedMonthDestroyEvent(),this.__onTextChangedMonthDestroyEvent=null),null!==this.__onTextChangedDayDestroyEvent&&(this.__onTextChangedDayDestroyEvent(),this.__onTextChangedDayDestroyEvent=null),null!==this.__onTextChangedHourDestroyEvent&&(this.__onTextChangedHourDestroyEvent(),this.__onTextChangedHourDestroyEvent=null),null!==this.__onTextChangedMinuteDestroyEvent&&(this.__onTextChangedMinuteDestroyEvent(),this.__onTextChangedMinuteDestroyEvent=null),null!==this.__onTextChangedSecondDestroyEvent&&(this.__onTextChangedSecondDestroyEvent(),this.__onTextChangedSecondDestroyEvent=null),null!==this.__onTextChangedMillisecondDestroyEvent&&(this.__onTextChangedMillisecondDestroyEvent(),this.__onTextChangedMillisecondDestroyEvent=null),null!==this.__onUserInteractionFinishedYearDestroyEvent&&(this.__onUserInteractionFinishedYearDestroyEvent(),this.__onUserInteractionFinishedYearDestroyEvent=null),null!==this.__onUserInteractionFinishedMonthDestroyEvent&&(this.__onUserInteractionFinishedMonthDestroyEvent(),this.__onUserInteractionFinishedMonthDestroyEvent=null),null!==this.__onUserInteractionFinishedDayDestroyEvent&&(this.__onUserInteractionFinishedDayDestroyEvent(),this.__onUserInteractionFinishedDayDestroyEvent=null),null!==this.__onUserInteractionFinishedHourDestroyEvent&&(this.__onUserInteractionFinishedHourDestroyEvent(),this.__onUserInteractionFinishedHourDestroyEvent=null),null!==this.__onUserInteractionFinishedMinuteDestroyEvent&&(this.__onUserInteractionFinishedMinuteDestroyEvent(),this.__onUserInteractionFinishedMinuteDestroyEvent=null),null!==this.__onUserInteractionFinishedSecondDestroyEvent&&(this.__onUserInteractionFinishedSecondDestroyEvent(),this.__onUserInteractionFinishedSecondDestroyEvent=null),null!==this.__onUserInteractionFinishedMillisecondDestroyEvent&&(this.__onUserInteractionFinishedMillisecondDestroyEvent(),this.__onUserInteractionFinishedMillisecondDestroyEvent=null)}destroy(){if(this.__keepAlive)return;this.__element[0].removeEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1}),super.destroy()}__addControls(t,n){let o=document.createDocumentFragment(),i=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTextblock",this.__id+"_"+t.toLowerCase()+"Label",{"data-tchmi-text-horizontal-alignment":"Center","data-tchmi-text-vertical-alignment":"Center","data-tchmi-text-font-size":15,"data-tchmi-text":t},this);if(void 0===i)throw new Error("Needed Textblock could not be instantiated");i.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-label","tchmi-timespan-picker-template-label"),o.appendChild(i.getElement()[0]);let s=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_"+t.toLowerCase()+"UpButton",{"data-tchmi-zindex":1},this);if(void 0===s)throw new Error("Needed Button could not be instantiated");s.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-button","TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-up-button","tchmi-timespan-picker-template-button","tchmi-timespan-picker-template-up-button"),o.appendChild(s.getElement()[0]),this.__baseControls[this.__id+"_"+t.toLowerCase()+"UpButton"]=s;let r=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTextbox",this.__id+"_"+t.toLowerCase()+"ValueTextbox",{"data-tchmi-text":n,"data-tchmi-text-horizontal-alignment":"Center","data-tchmi-box-shadow":[{blur:5,blurUnit:"px",color:{color:"rgba(0, 0, 0, 0.6)"},offsetX:0,offsetXUnit:"px",offsetY:0,offsetYUnit:"px",spread:0,spreadUnit:"px"}],"data-tchmi-auto-focus-out":!0},this);if(void 0===r)throw new Error("Needed Textbox could not be instantiated");r.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox","tchmi-timespan-picker-template-textbox"),o.appendChild(r.getElement()[0]),this.__baseControls[this.__id+"_"+t.toLowerCase()+"Value"]=r;let _=e.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_"+t.toLowerCase()+"DownButton",{},this);if(void 0===_)throw new Error("Needed Button could not be instantiated");return _.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-button","TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-down-button","tchmi-timespan-picker-template-button","tchmi-timespan-picker-template-down-button"),o.appendChild(_.getElement()[0]),this.__baseControls[this.__id+"_"+t.toLowerCase()+"DownButton"]=_,o}__timespanObjectToIso(e){let t="";return t+="P",e.years>0&&(t+=e.years+"Y"),e.months>0&&(t+=e.months+"M"),e.days>0&&(t+=e.days+"D"),(e.hours>0||e.minutes>0||e.seconds>0||e.milliseconds>0)&&(t+="T"),e.hours>0&&(t+=e.hours+"H"),e.minutes>0&&(t+=e.minutes+"M"),(e.seconds>0||0===e.years&&0===e.months&&0===e.days&&0===e.hours&&0===e.minutes)&&(t+=e.seconds),e.milliseconds>0&&(t+="."+("00"+e.milliseconds).slice(-3).replace(/\.?0+$/,"")),(e.milliseconds>0||e.seconds>0)&&(t+="S"),t}__isoToTimespanObject(e){let t={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0},n=0,o=0,i=0,s=0,r=0,_=0,l=!1,a=e.split("");for(let e=0,t=a.length;e<t;e++){let t=0,d="";for(;a[e]>="0"&&a[e]<="9"||"."===a[e];)d+=a[e],e++,t=parseFloat(d);switch(a[e]){case"Y":_=t;break;case"D":s=t;break;case"T":l=!0;break;case"H":i=t;break;case"M":l?o=t:r=t;break;case"S":n=t}}t.years=_,t.months=r,t.days=s,t.hours=i,t.minutes=o;let d=n.toString().split(".");if(d.length>1){t.seconds=parseInt(d[0],10);let e=1e3*parseFloat("0."+d[1]);t.milliseconds=e}else t.seconds=parseInt(d[0],10),t.milliseconds=0;return t}__onMousedown(){return t=>{this.getIsEnabled()&&e.Access.checkAccess(this,"operate")&&this.openTimespanPicker()}}openTimespanPicker(){e.TopMostLayer.add(this,this.__elementTSTemplate,{centerHorizontal:!0,centerVertical:!0,removeCb:t=>{t.canceled&&(e.EventProvider.raise(this.__id+".onCancel"),this.__processValue())}})}closeTimespanPicker(){e.TopMostLayer.remove(this,this.__elementTSTemplate),e.EventProvider.raise(this.__id+".onCancel"),this.__processValue()}__onMousedownTimeButtons(){let e=this;return function(t){if(e.__isPressed=!0,-1!==t.name.search("yearUp")){let t=e.__baseControls[e.__id+"_yearValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t++,n.setText(t.toString()),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t++,n.setText(t.toString()))}),150)}}}}else if(-1!==t.name.search("yearDown")){let t=e.__baseControls[e.__id+"_yearValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(t.toString())))}),150)}}}}else if(-1!==t.name.search("monthUp")){let t=e.__baseControls[e.__id+"_monthValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t++,n.setText(t.toString()),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t++,n.setText(t.toString()))}),150)}}}}else if(-1!==t.name.search("monthDown")){let t=e.__baseControls[e.__id+"_monthValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(t.toString())))}),150)}}}}else if(-1!==t.name.search("dayUp")){let t=e.__baseControls[e.__id+"_dayValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t++,n.setText(t.toString()),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t++,n.setText(t.toString()))}),150)}}}}else if(-1!==t.name.search("dayDown")){let t=e.__baseControls[e.__id+"_dayValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(t.toString())))}),150)}}}}else if(-1!==t.name.search("hourUp")){let t=e.__baseControls[e.__id+"_hourValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t++,n.setText(t.toString()),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t++,n.setText(t.toString()))}),150)}}}}else if(-1!==t.name.search("hourDown")){let t=e.__baseControls[e.__id+"_hourValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(t.toString())))}),150)}}}}else if(-1!==t.name.search("minuteUp")){let t=e.__baseControls[e.__id+"_minuteValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t++,n.setText(t.toString()),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t++,n.setText(t.toString()))}),150)}}}}else if(-1!==t.name.search("minuteDown")){let t=e.__baseControls[e.__id+"_minuteValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(t.toString())))}),150)}}}}else if(-1!==t.name.search("millisecondUp")){let t=e.__baseControls[e.__id+"_millisecondValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t<999&&(t++,t>=0?n.setText(("000"+t).substring(Math.min((""+t).length,3))):n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t<999&&(t++,t>=0?n.setText(("000"+t).substring(Math.min((""+t).length,3))):n.setText(t.toString())))}),150)}}}}else if(-1!==t.name.search("millisecondDown")){let t=e.__baseControls[e.__id+"_millisecondValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(("000"+t).substring(Math.min((""+t).length,3)))),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(("000"+t).substring(Math.min((""+t).length,3)))))}),150)}}}}else if(-1!==t.name.search("secondUp")){let t=e.__baseControls[e.__id+"_secondValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t++,n.setText(t.toString()),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t++,n.setText(t.toString()))}),150)}}}}else if(-1!==t.name.search("secondDown")){let t=e.__baseControls[e.__id+"_secondValue"];if(void 0!==t){let n=t,text=n.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^-?[0-9]*$").test(t)){let t=parseInt(text,10);t>0&&(t--,n.setText(t.toString())),e.__intervalTimer=setInterval((function(){e.__isPressed&&(t=parseInt(n.getText(),10),t>0&&(t--,n.setText(t.toString())))}),150)}}}}}}__onMouseup(){let e=this;return function(t){e.__isPressed=!1,e.__intervalTimer&&(clearInterval(e.__intervalTimer),e.__intervalTimer=0)}}__onPressed(){let t=this;return function(n){if(-1!==n.name.search("ok")){let n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0},o=t.__baseControls[t.__id+"_yearValue"];if(void 0!==o){let e=o;n.years=parseInt(e.getText(),10)}let i=t.__baseControls[t.__id+"_monthValue"];if(void 0!==i){let e=i;n.months=parseInt(e.getText(),10)}let s=t.__baseControls[t.__id+"_dayValue"];if(void 0!==s){let e=s;n.days=parseInt(e.getText(),10)}let r=t.__baseControls[t.__id+"_hourValue"];if(void 0!==r){let e=r;n.hours=parseInt(e.getText(),10)}let _=t.__baseControls[t.__id+"_minuteValue"];if(void 0!==_){let e=_;n.minutes=parseInt(e.getText(),10)}let l=t.__baseControls[t.__id+"_secondValue"];if(void 0!==l){let e=l;n.seconds=parseInt(e.getText(),10)}let a=t.__baseControls[t.__id+"_millisecondValue"];if(void 0!==a){let e=a;n.milliseconds=parseInt(e.getText(),10)}let d=t.__timespanObjectToIso(n);t.setValue(d,!1),e.TopMostLayer.remove(t,t.__elementTSTemplate)}else-1!==n.name.search("cancel")&&(e.TopMostLayer.remove(t,t.__elementTSTemplate),e.EventProvider.raise(t.__id+".onCancel"),t.__processValue())}}__onTextChanged(){let e=this;return function(t){if(-1!==t.name.search("yearValueTextbox")){let t=e.__baseControls[e.__id+"_yearValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();new RegExp("^[0-9]*$").test(t)?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}else if(-1!==t.name.search("monthValueTextbox")){let t=e.__baseControls[e.__id+"_monthValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();new RegExp("^[0-9]*$").test(t)?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}else if(-1!==t.name.search("dayValueTextbox")){let t=e.__baseControls[e.__id+"_dayValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();new RegExp("^[0-9]*$").test(t)?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}else if(-1!==t.name.search("hourValueTextbox")){let t=e.__baseControls[e.__id+"_hourValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();new RegExp("^[0-9]*$").test(t)?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}else if(-1!==t.name.search("minuteValueTextbox")){let t=e.__baseControls[e.__id+"_minuteValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();new RegExp("^[0-9]*$").test(t)?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}else if(-1!==t.name.search("millisecondValueTextbox")){let t=e.__baseControls[e.__id+"_millisecondValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10),n<=999?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}else e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}else if(-1!==t.name.search("secondValueTextbox")){let t=e.__baseControls[e.__id+"_secondValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();new RegExp("^[0-9]*$").test(t)?e.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):e.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error")}}}let n=e.__baseControls[e.__id+"_okButton"];if(void 0!==n){e.__elementTSTemplate.find(".TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error").length>0?n.setIsEnabled(!1):n.setIsEnabled(!0)}}}__onUserInteractionFinished(){let e=this;return function(t){if(-1!==t.name.search("yearValueTextbox")){let t=e.__baseControls[e.__id+"_yearValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10);let o=n.toString();o!==text&&e.setText(o)}}}}else if(-1!==t.name.search("monthValueTextbox")){let t=e.__baseControls[e.__id+"_monthValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10);let o=n.toString();o!==text&&e.setText(o)}}}}else if(-1!==t.name.search("dayValueTextbox")){let t=e.__baseControls[e.__id+"_dayValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10);let o=n.toString();o!==text&&e.setText(o)}}}}else if(-1!==t.name.search("hourValueTextbox")){let t=e.__baseControls[e.__id+"_hourValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10);let o=n.toString();o!==text&&e.setText(o)}}}}else if(-1!==t.name.search("minuteValueTextbox")){let t=e.__baseControls[e.__id+"_minuteValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10);let o=n.toString();o!==text&&e.setText(o)}}}}else if(-1!==t.name.search("millisecondValueTextbox")){let t=e.__baseControls[e.__id+"_millisecondValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;if(n=""===t?0:parseInt(t,10),n<=999){let t=n.toString();e.setText(("000"+t).substring(Math.min((""+t).length,3)))}}}}}else if(-1!==t.name.search("secondValueTextbox")){let t=e.__baseControls[e.__id+"_secondValue"];if(void 0!==t){let e=t,text=e.getText();if(void 0!==text){let t=text.trim();if(new RegExp("^[0-9]*$").test(t)){let n;n=""===t?0:parseInt(t,10);let o=n.toString();o!==text&&e.setText(o)}}}}}}setValue(valueNew,t=!0){let n=e.ValueConverter.toString(valueNew);null===n&&(n=this.getAttributeDefaultValueInternal("Value")),n!==this.__value&&(this.__value=n,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Value"}),e.EventProvider.raise(this.__id+".onValueChanged",this.__value),t&&this.__processValue())}getValue(){return this.__value}__processValue(){let e={years:0,months:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0};null!==this.__value&&void 0!==this.__value&&(e=this.__isoToTimespanObject(this.__value));let t=this,n=t.__baseControls[t.__id+"_yearValue"];if(void 0!==n){let t=n;e.minutes<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(e.years.toString())}let o=t.__baseControls[t.__id+"_monthValue"];if(void 0!==o){let t=o;e.minutes<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(e.months.toString())}let i=t.__baseControls[t.__id+"_dayValue"];if(void 0!==i){let t=i;e.minutes<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(e.days.toString())}let s=t.__baseControls[t.__id+"_hourValue"];if(void 0!==s){let t=s;e.hours<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","Ttchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(e.hours.toString())}let r=t.__baseControls[t.__id+"_minuteValue"];if(void 0!==r){let t=r;e.minutes<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(e.minutes.toString())}let _=t.__baseControls[t.__id+"_secondValue"];if(void 0!==_){let t=_;e.seconds<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(e.seconds.toString())}let l=t.__baseControls[t.__id+"_millisecondValue"];if(void 0!==l){let t=l;e.milliseconds>999||e.milliseconds<0?t.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"):t.getElement()[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error","tchmi-timespan-picker-template-textbox-error"),t.setText(("000"+e.milliseconds).slice(-3))}let a=t.__baseControls[t.__id+"_okButton"];if(void 0!==a){let e=t.__elementTSTemplate.find(".TcHmi_Controls_Beckhoff_TcHmiTimespanPicker-template-textbox-error");0===e.length&&(e=t.__elementTSTemplate.find(".tchmi-timespan-picker-template-textbox-error")),e.length>0?a.setIsEnabled(!1):a.setIsEnabled(!0)}}__processIsEnabled(){super.__processIsEnabled(),this.getIsEnabled()||(e.TopMostLayer.remove(this,this.__elementTSTemplate),e.EventProvider.raise(this.__id+".onCancel"))}}t.TcHmiTimespanPicker=n}(n=t.Beckhoff||(t.Beckhoff={})),t.registerEx("TcHmiTimespanPicker","TcHmi.Controls.Beckhoff",e.Controls.Beckhoff.TcHmiTimespanPicker)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));