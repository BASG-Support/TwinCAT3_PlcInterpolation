var TcHmi;!function(e){let t;!function(t){let o;!function(t){class o extends e.Controls.System.TcHmiControl{constructor(t,o,r){super(t,o,r),this.__locked=!1,this.__srcData=null,this.__data=[],this.__dropDownboxOpen=!1,this.__resizedEventDestroyEvent=null,this.__movedEventDestroyEvent=null,this.__triggerUIFinishedOnBlur=!0,this.__touches=[],this.__onResolverForContentPaddingWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("contentPadding"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__contentPadding)||(this.__contentPadding=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ContentPadding"}),this.__processContentPadding()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=ContentPadding] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForDropDownHighlightColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("dropDownHighlightColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__dropDownHighlightColor)||(this.__dropDownHighlightColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownHighlightColor"}),this.__processDropDownHighlightColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=DropDownHighlightColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForDropDownHightlightTextColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("dropDownHightlightTextColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__dropDownHighlightTextColor)||(this.__dropDownHighlightTextColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownHighlightTextColor"}),this.__processDropDownHighlightTextColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=DropDownHighlightTextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForDropDownToggleButtonBackgroundColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("dropDownToggleButtonBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__dropDownToggleButtonBackgroundColor)||(this.__dropDownToggleButtonBackgroundColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownToggleButtonBackgroundColor"}),this.__processDropDownToggleButtonBackgroundColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=DropDownToggleButtonBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForDropDownToggleButtonArrowColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("dropDownToggleButtonArrowColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__dropDownToggleButtonArrowColor)||(this.__dropDownToggleButtonArrowColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownToggleButtonArrowColor"}),this.__processDropDownToggleButtonArrowColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=DropDownToggleButtonArrowColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForTextColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("textColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__textColor)||(this.__textColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextColor"}),this.__processTextColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=TextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForSrcDataWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("srcData"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__srcData)||(this.__srcData=t.value||null,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SrcData"}),this.__processSrcData()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=SrcData] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__documentFocusout=t=>{!this.__dropDownboxOpen||this.__element[0].contains(t.target)||this.__elementDropdown[0].contains(t.target)||(this.__setDropDownboxOpen(!1),e.EventProvider.raise(this.__id+".onUserInteractionCanceled"))},this.__resizeDropDownboxCb=()=>{const t=document.documentElement.getBoundingClientRect(),o=this.__element[0].getBoundingClientRect(),r=this.__elementDropdown[0].getBoundingClientRect();let n={top:o.top+o.height+"px",left:o.left+"px",right:null,"min-width":o.width+"px"};t.height-o.bottom<r.height&&o.top>=r.height?(n.top=o.top-r.height+"px",this.__elementDropdown[0].classList.add("above-control")):this.__elementDropdown[0].classList.remove("above-control"),t.width-o.left<r.width&&o.right>=r.width&&(n.left=null,n.right=t.width-o.right+"px"),e.StyleProvider.setSimpleElementStyle(this.__elementDropdown,n)},this.__onResolverForDropDownTextColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("dropDownTextColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__dropDownTextColor)||(this.__dropDownTextColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownTextColor"}),this.__processDropDownTextColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=DropDownTextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForDropDownBackgroundColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("dropDownBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__dropDownBackgroundColor)||(this.__dropDownBackgroundColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownBackgroundColor"}),this.__processDropDownBackgroundColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=DropDownBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__evtHandlerFocusin=this.__onFocusInTextbox(),this.__evtHandlerFocusout=this.__onFocusOutTextbox(),this.__evtHandlerKeydown=this.__onKeydownTextbox(),this.__evtHandlerInput=this.__onInputTextbox(),this.__evtHandlerPaste=this.__onPasteTextbox(),this.__evtHandlerCut=this.__onCutTextbox(),this.__evtHandlerMousedownCombobox=this.__onMousedown(),this.__evtHandlerClick=this.__onItemClick(),this.__evtHandlerMouseEnter=this.__onMouseEnter(),this.__evtHandlerMouseLeave=this.__onMouseLeave()}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-combobox-template")),this.__elementSelect=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-select"),0===this.__elementSelect.length&&(this.__elementSelect=this.__elementTemplateRoot.find(".tchmi-combobox-template-select")),this.__elementText=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-select-content"),0===this.__elementText.length&&(this.__elementText=this.__elementTemplateRoot.find(".tchmi-combobox-template-select-content")),this.__elementDropdownToggleButton=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-button"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-combobox-template-button")),this.__elementFocusBorder=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-focus-border"),0===this.__elementFocusBorder.length&&(this.__elementFocusBorder=this.__elementTemplateRoot.find(".tchmi-combobox-template-focus-border")),this.__elementDropdown=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown"),0===this.__elementDropdown.length&&(this.__elementDropdown=this.__elementTemplateRoot.find("..tchmi-combobox-template-dropdown")),0===this.__elementTemplateRoot.length||0===this.__elementSelect.length||0===this.__elementText.length||0===this.__elementDropdownToggleButton.length||0===this.__elementFocusBorder.length||0===this.__elementDropdown.length)throw new Error("Invalid Template.html");super.__previnit()}__init(){super.__init();const e={passive:!0,capture:!1};this.__elementSelect[0].addEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),this.__elementDropdownToggleButton[0].addEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e);for(var t=this.__elementDropdown[0].children,o=0,r=t.length;o<r;o++)t[o].addEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),t[o].addEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),t[o].addEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e)}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){if(this.__keepAlive)return;e.Engineering.ErrorPane.remove("E_COMBOBOX["+this.getId()+"]_SRCDATA_ERROR");const t={passive:!0,capture:!1};this.__elementSelect[0].removeEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),this.__elementDropdownToggleButton[0].removeEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t);for(var o=this.__elementDropdown[0].children,r=0,n=o.length;r<n;r++)o[r].removeEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),o[r].removeEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),o[r].removeEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t);this.__elementTemplateRoot[0].removeEventListener("focusin",this.__evtHandlerFocusin,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),this.__elementTemplateRoot[0].removeEventListener("focusout",this.__evtHandlerFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),this.__elementText[0].removeEventListener("keydown",this.__evtHandlerKeydown,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1}),this.__elementText[0].removeEventListener("input",this.__evtHandlerInput,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),this.__elementText[0].removeEventListener("paste",this.__evtHandlerPaste,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),this.__elementText[0].removeEventListener("cut",this.__evtHandlerCut,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),super.destroy()}__onMousedown(){return t=>{!0===e.Access.checkAccess(this,"operate")&&this.getIsEnabled()&&("mousedown"===t.type&&0!==t.button||this.__dropDownStyle===o.DropDownStyle.Mobile&&this.__allowTextInput&&t.target===this.__elementText[0]||this.__setDropDownboxOpen())}}__onItemClick(){return t=>{if(!0!==e.Access.checkAccess(this,"operate"))return;if(!this.getIsEnabled())return;let o=parseInt(t.target.dataset.index||"-1",10);this.__oldText=this.__text,this.__text="",this.setSelectedIndex(o),e.EventProvider.raise(this.__id+".onUserInteractionFinished"),this.__setDropDownboxOpen(!1)}}__onMouseEnter(){return e=>{this.__hoverComboboxItem(e.target,!0)}}__onMouseLeave(){return e=>{this.__hoverComboboxItem(e.target,!1)}}__onTouchstart(){return t=>{if(!this.getIsEnabled())return;if(!e.Access.checkAccess(this,"operate"))return;let o=Array.prototype.slice.apply(t.changedTouches).filter(e=>e.target===t.target);0!==o.length&&(this.__touches=this.__touches.concat(o.map(e=>({id:e.identifier,originalX:e.clientX,originalY:e.clientY,element:e.target}))),o.forEach(e=>this.__hoverComboboxItem(e.target,!0)))}}__hoverComboboxItem(t,o){t.classList.contains("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element")&&t.classList.contains("tchmi-combobox-template-dropdown-element")&&(o?(t.classList.add("hover"),e.StyleProvider.processBackgroundColor(t,this.__dropDownHighlightColor),e.StyleProvider.processTextColor(t,this.__dropDownHighlightTextColor)):this.__touches.some(e=>e.element===t)||(t.classList.remove("hover"),e.StyleProvider.processBackgroundColor(t,this.__dropDownBackgroundColor),e.StyleProvider.processTextColor(t,this.__dropDownTextColor)))}__onKeydownTextbox(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!t.getIsEnabled())return;if(t.__triggerUIFinishedOnBlur=!0,"Escape"===o.key)t.__setText(t.__oldText),t.__elementText.val(t.__oldText),t.__triggerUIFinishedOnBlur=!1,e.EventProvider.raise(t.__id+".onUserInteractionCanceled");else if("Enter"===o.key){var text=t.__elementText.val();t.__triggerUIFinishedOnBlur=!1,text!==t.__oldText&&t.__setText(text),e.EventProvider.raise(t.__id+".onUserInteractionFinished"),t.__elementText.blur(),o.preventDefault()}}}}__onInputTextbox(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0}}}__onPasteTextbox(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0}}}__onCutTextbox(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0}}}__onFocusInTextbox(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0,t.__oldText=t.__text,""===t.__text&&t.__elementText.val(""),t.__elementFocusBorder[0].classList.add("tchmi-focus"),e.EventProvider.raise(t.__id+".onFocusIn",o),t.__elementText[0]===document.activeElement&&t.__lock()}}}__onFocusOutTextbox(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!t.getIsEnabled())return;t.__unlock();var text=t.__elementText.val();text!==t.__oldText&&t.__setText(text),t.__elementFocusBorder[0].classList.remove("tchmi-focus"),e.EventProvider.raise(t.__id+".onFocusOut",o),t.__triggerUIFinishedOnBlur&&e.EventProvider.raise(t.__id+".onUserInteractionFinished"),t.__triggerUIFinishedOnBlur=!0}}}setComboboxText(valueNew){let t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ComboboxText")),t!==this.__comboboxText&&(this.__comboboxText=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ComboboxText"}),this.__processComboboxText())}getComboboxText(){return this.__comboboxText}__processComboboxText(){this.__allowTextInput?(""!==this.__text||this.__locked||(this.__elementText[0].textContent=tchmi_decode_control_characters(this.__comboboxText)),this.__elementText.blur()):(null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length)&&(this.__elementText[0].textContent=tchmi_decode_control_characters(this.__comboboxText))}setTextHorizontalAlignment(valueNew){let t=e.ValueConverter.toHorizontalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextHorizontalAlignment")),t!==this.__textHorizontalAlignment&&(this.__textHorizontalAlignment=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextHorizontalAlignment"}),this.__processTextHorizontalAlignment())}getTextHorizontalAlignment(){return this.__textHorizontalAlignment}__processTextHorizontalAlignment(){switch(this.__textHorizontalAlignment){case void 0:return;case"Left":this.__elementSelect[0].style.textAlign="left";break;case"Center":this.__elementSelect[0].style.textAlign="center";break;case"Right":this.__elementSelect[0].style.textAlign="right";break;default:this.__elementSelect[0].style.textAlign=""}}setContentPadding(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ContentPadding"));let o=this.__objectResolvers.get("contentPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("contentPadding",{resolver:r,watchCallback:this.__onResolverForContentPaddingWatchCallback,watchDestroyer:r.watch(this.__onResolverForContentPaddingWatchCallback)})}getContentPadding(){return this.__contentPadding}__processContentPadding(){void 0!==this.__contentPadding&&e.StyleProvider.processContentPadding(this.__elementText,this.__contentPadding)}__processBackgroundColor(){void 0!==this.__background.color&&e.StyleProvider.processBackgroundColor(this.__elementSelect,this.__background.color)}setDropDownHighlightColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownHighlightColor"));let o=this.__objectResolvers.get("dropDownHighlightColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownHighlightColor",{resolver:r,watchCallback:this.__onResolverForDropDownHighlightColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForDropDownHighlightColorWatchCallback)})}getDropDownHighlightColor(){return this.__dropDownHighlightColor}__processDropDownHighlightColor(){}setDropDownHighlightTextColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownHighlightTextColor"));let o=this.__objectResolvers.get("dropDownHightlightTextColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownHightlightTextColor",{resolver:r,watchCallback:this.__onResolverForDropDownHightlightTextColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForDropDownHightlightTextColorWatchCallback)})}getDropDownHighlightTextColor(){return this.__dropDownHighlightTextColor}__processDropDownHighlightTextColor(){}setDropDownToggleButtonBackgroundColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownToggleButtonBackgroundColor"));let o=this.__objectResolvers.get("dropDownToggleButtonBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownToggleButtonBackgroundColor",{resolver:r,watchCallback:this.__onResolverForDropDownToggleButtonBackgroundColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForDropDownToggleButtonBackgroundColorWatchCallback)})}getDropDownToggleButtonBackgroundColor(){return this.__dropDownToggleButtonBackgroundColor}__processDropDownToggleButtonBackgroundColor(){e.StyleProvider.processBackgroundColor(this.__elementDropdownToggleButton,this.__dropDownToggleButtonBackgroundColor)}setDropDownToggleButtonArrowColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownToggleButtonArrowColor"));let o=this.__objectResolvers.get("dropDownToggleButtonArrowColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownToggleButtonArrowColor",{resolver:r,watchCallback:this.__onResolverForDropDownToggleButtonArrowColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForDropDownToggleButtonArrowColorWatchCallback)})}getDropDownToggleButtonArrowColor(){return this.__dropDownToggleButtonArrowColor}__processDropDownToggleButtonArrowColor(){e.StyleProvider.processStrokeColor(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-button-arrow"),this.__dropDownToggleButtonArrowColor)}setTextColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextColor"));let o=this.__objectResolvers.get("textColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("textColor",{resolver:r,watchCallback:this.__onResolverForTextColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForTextColorWatchCallback)})}getTextColor(){return this.__textColor}__processTextColor(){void 0!==this.__textColor&&e.StyleProvider.processTextColor(this.__elementText,this.__textColor)}setTextFontSize(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontSize")),t!==this.__textFontSize&&(this.__textFontSize=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontSize"}),this.__processTextFontSize())}getTextFontSize(){return this.__textFontSize}__processTextFontSize(){void 0!==this.__textFontSize&&void 0!==this.__textFontSizeUnit&&e.StyleProvider.processFontSize(this.__elementSelect,this.__textFontSize,this.__textFontSizeUnit)}setTextFontSizeUnit(valueNew){let t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontSizeUnit")),t!==this.__textFontSizeUnit&&(this.__textFontSizeUnit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontSizeUnit"}),this.__processTextFontSizeUnit())}getTextFontSizeUnit(){return this.__textFontSizeUnit}__processTextFontSizeUnit(){return this.__processTextFontSize()}setTextFontFamily(valueNew){let t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontFamily")),t!==this.__textFontFamily&&(this.__textFontFamily=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontFamily"}),this.__processTextFontFamily())}getTextFontFamily(){return this.__textFontFamily}__processTextFontFamily(){void 0!==this.__textFontFamily&&e.StyleProvider.processFontFamily(this.__elementSelect,this.__textFontFamily)}setTextFontStyle(valueNew){let t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontStyle")),t!==this.__textFontStyle&&(this.__textFontStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontStyle"}),this.__processTextFontStyle())}getTextFontStyle(){return this.__textFontStyle}__processTextFontStyle(){void 0!==this.__textFontStyle&&e.StyleProvider.processFontStyle(this.__elementSelect,this.__textFontStyle)}setTextFontWeight(valueNew){let t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontWeight")),t!==this.__textFontWeight&&(this.__textFontWeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontWeight"}),this.__processTextFontWeight())}getTextFontWeight(){return this.__textFontWeight}__processTextFontWeight(){void 0!==this.__textFontWeight&&e.StyleProvider.processFontWeight(this.__elementSelect,this.__textFontWeight)}setSrcData(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SrcData"));let o=this.__objectResolvers.get("srcData");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("srcData",{resolver:r,watchCallback:this.__onResolverForSrcDataWatchCallback,watchDestroyer:r.watch(this.__onResolverForSrcDataWatchCallback)})}getSrcData(){return this.__srcData}__processSrcData(){e.Engineering.ErrorPane.remove("E_COMBOBOX["+this.getId()+"]_SRCDATA_ERROR");const t={passive:!0,capture:!1};for(var o=this.__elementDropdown.children(),r=0,n=o.length;r<n;r++)o[r].removeEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),o[r].removeEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),o[r].removeEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t);if(this.__data=[],null===this.__srcData)return this.__processComboboxText(),void this.__elementDropdown.empty();if(Array.isArray(this.__srcData)){let t=this.__srcData,o=[];for(let r=0,n=t.length;r<n;r++){let n={id:null,text:null,value:null};if("object"==typeof t[r]){n.text="",void 0!==t[r].text&&null!==t[r].text&&(n.text=t[r].text.toString()),n.value=null,void 0!==t[r].value&&null!==t[r].value&&(n.value=t[r].value);const e=t[r].id;n.id="number"==typeof e?e:r}else n.text=t[r].toString(),n.value=t[r],n.id=r;if(-1!==o.indexOf(n.id))return e.Engineering.ErrorPane.add("E_COMBOBOX["+this.getId()+"]_SRCDATA_ERROR","[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=SrcData] Value of ["+r+"].id="+n.id+" is not unique.",e.Engineering.ErrorPane.MessageType.Error),TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=SrcData] Value of ["+r+"].id="+n.id+" is not unique."),this.__data=[],this.__processComboboxText(),void this.__fillDropdown();o.push(n.id),this.__data.push(n)}}else{let e=0;for(let t in this.__srcData)this.__srcData.hasOwnProperty(t)&&this.__data.push({id:e++,text:t.toString(),value:this.__srcData[t]})}null!==this.__selectedIndex&&void 0!==this.__selectedIndex&&(this.__selectedIndex>=this.__data.length?this.setSelectedIndex(null):this.__processSelectedIndex()),this.__fillDropdown()}__setDropDownboxOpen(valueNew){if(void 0===valueNew&&(valueNew=!this.__dropDownboxOpen),valueNew){this.__dropDownboxOpen=!0,this.__elementTemplateRoot[0].classList.add("active"),this.__elementDropdown[0].classList.add("active"),this.__elementDropdown.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element").removeClass("hover"),this.__elementDropdown.find(".tchmi-combobox-template-dropdown-element").removeClass("hover");let t={removeCb:t=>{this.__dropDownboxOpen=!1,this.__elementTemplateRoot[0].classList.remove("active"),this.__elementDropdown[0].classList.remove("active"),t.canceled&&e.EventProvider.raise(this.__id+".onUserInteractionCanceled"),null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null),null!==this.__movedEventDestroyEvent&&(this.__movedEventDestroyEvent(),this.__movedEventDestroyEvent=null),document.removeEventListener("scroll",this.__resizeDropDownboxCb,{capture:!0}),window.removeEventListener("resize",this.__resizeDropDownboxCb);document.removeEventListener("click",this.__documentFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1})}};if(this.__dropDownStyle===o.DropDownStyle.Classic){t.dimBackground=!1,t.modal=!1;const o={passive:!0,capture:!1};document.addEventListener("click",this.__documentFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),this.__resizedEventDestroyEvent=e.EventProvider.register(this.__id+".onResized",this.__resizeDropDownboxCb),this.__movedEventDestroyEvent=e.EventProvider.register(this.__id+".onMoved",this.__resizeDropDownboxCb),document.addEventListener("scroll",this.__resizeDropDownboxCb,{capture:!0,passive:!0}),window.addEventListener("resize",this.__resizeDropDownboxCb,{passive:!0}),e.TopMostLayer.add(this,this.__elementDropdown,t),this.__resizeDropDownboxCb()}else this.__dropDownStyle===o.DropDownStyle.Mobile&&(t.centerHorizontal=!0,t.centerVertical=!0,e.TopMostLayer.add(this,this.__elementDropdown,t))}else e.TopMostLayer.remove(this,this.__elementDropdown)}__fillDropdown(){let t=document.createDocumentFragment(),o=[];for(let e=0,r=this.__data.length;e<r;e++){let r=this.__data[e].text;null===r&&(r="");let n=document.createElement("div");n.classList.add("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element","tchmi-box"),n.classList.add("tchmi-combobox-template-dropdown-element","tchmi-box"),e===this.__selectedIndex&&n.classList.add("selected"),n.setAttribute("data-index",e.toString()),n.textContent=r.toString(),o.push(n),t.appendChild(n)}void 0!==this.__dropDownTextColor&&e.StyleProvider.processTextColor(o,this.__dropDownTextColor),void 0!==this.__dropDownBackgroundColor&&e.StyleProvider.processBackgroundColor(o,this.__dropDownBackgroundColor),void 0!==this.__textFontSize&&void 0!==this.__textFontSizeUnit&&e.StyleProvider.processFontSize(o,this.__textFontSize,this.__textFontSizeUnit),void 0!==this.__textFontFamily&&e.StyleProvider.processFontFamily(o,this.__textFontFamily),void 0!==this.__textFontWeight&&e.StyleProvider.processFontWeight(o,this.__textFontWeight),void 0!==this.__dataHeight&&e.StyleProvider.setSimpleElementStyle(o,"height",this.__dataHeight+"px");const r={passive:!0,capture:!1};for(var n=0;n<o.length;n++)o[n].addEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&r),o[n].addEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&r),o[n].addEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&r);this.__elementDropdown.empty().append(t)}setDataHeight(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DataHeight")),t!==this.__dataHeight&&(this.__dataHeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DataHeight"}),this.__processDataHeight())}getDataHeight(){return this.__dataHeight}__processDataHeight(){void 0!==this.__dataHeight&&e.StyleProvider.setSimpleElementStyle(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),"height",this.__dataHeight+"px")}setDataHeightUnit(valueNew){}getDataHeightUnit(){return"px"}__processDataHeightUnit(){this.__processDataHeight()}setMaxListHeight(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("MaxListHeight")),t!==this.__maxListHeight&&(this.__maxListHeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MaxListHeight"}),this.__processMaxListHeight())}getMaxListHeight(){return this.__maxListHeight}__processMaxListHeight(){null!==this.__maxListHeight&&void 0!==this.__maxListHeight&&this.__dropDownStyle===o.DropDownStyle.Classic?this.__elementDropdown[0].style.maxHeight=this.__maxListHeight+"px":this.__elementDropdown[0].style.maxHeight=""}setMaxListHeightUnit(valueNew){}getMaxListHeightUnit(){return"px"}__processMaxListHeightUnit(){this.__processMaxListHeight()}setDropDownStyle(valueNew){let t=e.ValueConverter.toEnum(valueNew,o.DropDownStyle);null===t&&(t=e.ValueConverter.toEnum(this.getAttributeDefaultValueInternal("DropDownStyle"),o.DropDownStyle,o.DropDownStyle.Classic)),t!==this.__dropDownStyle&&(this.__dropDownStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownStyle"}),this.__processDropDownStyle())}getDropDownStyle(){return void 0===this.__dropDownStyle?null:o.DropDownStyle[this.__dropDownStyle]}__processDropDownStyle(){this.__dropDownStyle===o.DropDownStyle.Classic?this.__elementDropdown[0].classList.remove("drop-down-style-mobile"):this.__dropDownStyle===o.DropDownStyle.Mobile&&this.__elementDropdown[0].classList.add("drop-down-style-mobile"),this.__processMaxListHeight(),!0===this.__dropDownboxOpen&&(this.__setDropDownboxOpen(!1),this.__setDropDownboxOpen(!0))}getSelectedValue(){return null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].value}getSelectedId(){return null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].id}getSelectedText(){return null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].text}getText(){return this.__allowTextInput?this.__text:null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].text}setSelectedIndex(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SelectedIndex")),null!==t&&t<0&&(t=null),t!==this.__selectedIndex&&(this.__selectedIndex=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedIndex"}),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedValue"}),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedId"}),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedText"}),this.__processSelectedIndex())}getSelectedIndex(){return this.__selectedIndex}__processSelectedIndex(){var t;if(this.__elementDropdown.children().removeClass("selected"),null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length)this.__processComboboxText(),e.EventProvider.raise(this.__id+".onSelectionChanged",{id:null,text:null,value:null});else{let o=(null!==(t=this.__data[this.__selectedIndex].text)&&void 0!==t?t:"").toString();if(this.__allowTextInput){if(!0===this.__locked)return;this.__oldText=o,this.__text=o,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Text"}),e.EventProvider.raise(this.__id+".onTextChanged",this.__text),this.__elementText.val(this.__text),this.__elementDropdown.children().eq(this.__selectedIndex).addClass("selected"),e.EventProvider.raise(this.__id+".onSelectionChanged",{id:this.__data[this.__selectedIndex].id,text:this.__data[this.__selectedIndex].text,value:this.__data[this.__selectedIndex].value})}else this.__elementText[0].textContent=tchmi_decode_control_characters(o),this.__elementDropdown.children().eq(this.__selectedIndex).addClass("selected"),e.EventProvider.raise(this.__id+".onSelectionChanged",{id:this.__data[this.__selectedIndex].id,text:this.__data[this.__selectedIndex].text,value:this.__data[this.__selectedIndex].value}),this.setText(o)}}setDropDownFontSize(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontSize")),t!==this.__dropDownFontSize&&(this.__dropDownFontSize=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownFontSize"}),this.__processDropDownFontSize())}getDropDownFontSize(){return this.__dropDownFontSize}__processDropDownFontSize(){void 0!==this.__dropDownFontSize&&void 0!==this.__dropDownFontSizeUnit&&e.StyleProvider.processFontSize(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontSize,this.__dropDownFontSizeUnit)}setDropDownFontSizeUnit(valueNew){let t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontSizeUnit")),t!==this.__dropDownFontSizeUnit&&(this.__dropDownFontSizeUnit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownFontSizeUnit"}),this.__processDropDownFontSizeUnit())}getDropDownFontSizeUnit(){return this.__dropDownFontSizeUnit}__processDropDownFontSizeUnit(){void 0!==this.__dropDownFontSize&&void 0!==this.__dropDownFontSizeUnit&&e.StyleProvider.processFontSize(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontSize,this.__dropDownFontSizeUnit)}setDropDownFontFamily(valueNew){let t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontFamily")),t!==this.__dropDownFontFamily&&(this.__dropDownFontFamily=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownFontFamily"}),this.__processDropDownFontFamily())}getDropDownFontFamily(){return this.__dropDownFontFamily}__processDropDownFontFamily(){e.StyleProvider.processFontFamily(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontFamily)}setDropDownFontStyle(valueNew){let t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontStyle")),t!==this.__dropDownFontStyle&&(this.__dropDownFontStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownFontStyle"}),this.__processDropDownFontStyle())}getDropDownFontStyle(){return this.__dropDownFontStyle}__processDropDownFontStyle(){e.StyleProvider.processFontStyle(this.__elementDropdown,this.__dropDownFontStyle)}setDropDownFontWeight(valueNew){let t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontWeight")),t!==this.__dropDownFontWeight&&(this.__dropDownFontWeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownFontWeight"}),this.__processDropDownFontWeight())}getDropDownFontWeight(){return this.__dropDownFontWeight}__processDropDownFontWeight(){e.StyleProvider.processFontWeight(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontWeight)}setDropDownHorizontalAlignment(valueNew){let t=e.ValueConverter.toHorizontalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownHorizontalAlignment")),t!==this.__dropDownHorizontalAlignment&&(this.__dropDownHorizontalAlignment=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownHorizontalAlignment"}),this.__processDropDownHorizontalAlignment())}getDropDownHorizontalAlignment(){return this.__dropDownHorizontalAlignment}__processDropDownHorizontalAlignment(){e.StyleProvider.processContentHorizontalAlignment(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownHorizontalAlignment)}setDropDownVerticalAlignment(valueNew){let t=e.ValueConverter.toVerticalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownVerticalAlignment")),t!==this.__dropDownVerticalAlignment&&(this.__dropDownVerticalAlignment=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DropDownVerticalAlignment"}),this.__processDropDownVerticalAlignment())}getDropDownVerticalAlignment(){return this.__dropDownVerticalAlignment}__processDropDownVerticalAlignment(){e.StyleProvider.processContentVerticalAlignment(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownVerticalAlignment)}setDropDownTextColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownTextColor"));let o=this.__objectResolvers.get("dropDownTextColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownTextColor",{resolver:r,watchCallback:this.__onResolverForDropDownTextColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForDropDownTextColorWatchCallback)})}getDropDownTextColor(){return this.__dropDownTextColor}__processDropDownTextColor(){void 0!==this.__dropDownTextColor&&e.StyleProvider.processTextColor(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownTextColor)}setDropDownBackgroundColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownBackgroundColor"));let o=this.__objectResolvers.get("dropDownBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownBackgroundColor",{resolver:r,watchCallback:this.__onResolverForDropDownBackgroundColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForDropDownBackgroundColorWatchCallback)})}getDropDownBackgroundColor(){return this.__dropDownBackgroundColor}__processDropDownBackgroundColor(){void 0!==this.__dropDownBackgroundColor&&e.StyleProvider.processBackgroundColor(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownBackgroundColor)}setAllowTextInput(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("AllowTextInput")),t!==this.__allowTextInput&&(this.__allowTextInput=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"AllowTextInput"}),this.__processAllowTextInput())}getAllowTextInput(){return this.__allowTextInput}__processAllowTextInput(){var e,t,o,r,n;const i={passive:!0,capture:!1},s={passive:!1,capture:!1};if(this.__allowTextInput){let text=(null!==(e=this.__text)&&void 0!==e?e:"").replace(/(?:\r\n|\\r|\\n)/g," ");""===text&&null!==this.__selectedIndex&&void 0!==this.__selectedIndex&&this.__selectedIndex>=0&&this.__selectedIndex<this.__data.length&&(text=(null!==(t=this.__data[this.__selectedIndex].text)&&void 0!==t?t:"").toString().replace(/(?:\r\n|\\r|\\n)/g," ")),text=""!==text?text:null!==(o=this.__comboboxText)&&void 0!==o?o:"";let input=document.createElement("input");input.setAttribute("type","text"),input.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiCombobox-template-input tchmi-combobox-template-input"),input.setAttribute("spellcheck","false"),input.value=text,this.__elementSelect[0].removeEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].replaceWith(input),this.__elementText=$(input),this.__elementTemplateRoot[0].addEventListener("focusin",this.__evtHandlerFocusin,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementTemplateRoot[0].addEventListener("focusout",this.__evtHandlerFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].addEventListener("keydown",this.__evtHandlerKeydown,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&s),this.__elementText[0].addEventListener("input",this.__evtHandlerInput,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].addEventListener("paste",this.__evtHandlerPaste,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].addEventListener("cut",this.__evtHandlerCut,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i)}else{this.__elementTemplateRoot[0].removeEventListener("focusin",this.__evtHandlerFocusin,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementTemplateRoot[0].removeEventListener("focusout",this.__evtHandlerFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].removeEventListener("keydown",this.__evtHandlerKeydown,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&s),this.__elementText[0].removeEventListener("input",this.__evtHandlerInput,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].removeEventListener("paste",this.__evtHandlerPaste,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].removeEventListener("cut",this.__evtHandlerCut,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i);let text=null!==(r=this.__comboboxText)&&void 0!==r?r:"";null!==this.__selectedIndex&&void 0!==this.__selectedIndex&&this.__selectedIndex>=0&&this.__selectedIndex<this.__data.length&&(text=(null!==(n=this.__data[this.__selectedIndex].text)&&void 0!==n?n:"").toString());let e=document.createElement("pre");e.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiCombobox-template-select-content tchmi-combobox-template-select-content"),e.textContent=text,this.__elementText[0].replaceWith(e),this.__elementText=$(e),this.__elementSelect[0].addEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i)}this.__processTextColor(),this.__processBackgroundColor(),this.__processTextFontFamily(),this.__processTextFontSize(),this.__processTextFontSizeUnit(),this.__processTextFontStyle(),this.__processTextFontWeight(),this.__processContentPadding(),this.__processTextHorizontalAlignment()}setText(valueNew){!0!==this.__locked&&this.__setText(valueNew)}__setText(valueNew){let t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Text")),t!==this.__text&&(this.__text=t,this.__oldText=this.__text,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Text"}),e.EventProvider.raise(this.__id+".onTextChanged",this.__text),this.__processText())}__processText(){this.__allowTextInput&&(void 0!==this.__text&&(this.__text=this.__text.replace(/(?:\r\n|\r|\n)/g," "),this.__elementText.val(this.__text)),null!==this.__selectedIndex&&(this.__elementDropdown.children().removeClass("selected"),this.__selectedIndex=null,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedIndex"}),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedValue"}),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedId"}),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SelectedText"})),this.__processComboboxText())}__lock(){this.__locked=!0}__unlock(){this.__locked=!1}__processControlActivation(){if(this.__allowTextInput){const input=this.__elementText[0];e.Access.checkAccess(this,"operate")&&this.getIsEnabled()?input.disabled=!1:(input.blur(),input.disabled=!0)}}__processIsEnabled(){super.__processIsEnabled(),this.__allowTextInput&&this.__processControlActivation(),this.getIsEnabled()||e.TopMostLayer.remove(this,this.__elementDropdown)}__processAccessConfig(){super.__processAccessConfig(),this.__allowTextInput&&this.__processControlActivation()}}t.TcHmiCombobox=o,function(e){let t;!function(e){e[e.Classic=0]="Classic",e[e.Mobile=1]="Mobile"}(t=e.DropDownStyle||(e.DropDownStyle={}))}(o=t.TcHmiCombobox||(t.TcHmiCombobox={}))}(o=t.Beckhoff||(t.Beckhoff={})),t.registerEx("TcHmiCombobox","TcHmi.Controls.Beckhoff",e.Controls.Beckhoff.TcHmiCombobox)}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));