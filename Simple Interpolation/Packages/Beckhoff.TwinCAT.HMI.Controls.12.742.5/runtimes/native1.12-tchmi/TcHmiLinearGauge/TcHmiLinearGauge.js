var TcHmi;!function(e){let t;!function(t){let i;!function(i){class o extends t.System.TcHmiControl{constructor(t,i,o){super(t,i,o),this.__themeDataLoadedEventDestroyEvent=null,this.__knobSvgString=null,this.__draggingInfo={isDragging:!1,offset:0,touchIdentifier:null,originalValue:0,knobConfig:{imagePath:"",height:0,width:0,offsetX:0,offsetY:0}},this.__oldValue=0,this.__progressBarAnimation=null,this.__editKnobAnimation=null,this.__resizedEventDestroyEvent=null,this.__internalValue=0,this.__internalMinValue=0,this.__internalMaxValue=100,this.__onResized=()=>{this.__processShowLabels(),this.__processShowTicks()},this.__fetchKnob=()=>{if(!this.__orientation)return;const t=e.Theme.Resources.get(this,"KnobConfig"+this.__orientation);t.value&&t.value.imagePath||(t.value={imagePath:"Knob"+this.__orientation+".svg",height:40,width:40,offsetX:20,offsetY:20},t.origin="control"),null!==t.value.offsetX&&void 0!==t.value.offsetX||(t.value.offsetX=0),null!==t.value.offsetY&&void 0!==t.value.offsetY||(t.value.offsetY=0);let i=e.Theme.Resources.resolveBasePath(this,t);i+=t.value.imagePath;let o,r="translate(";if(r+=-t.value.offsetX,r+="px, ",o="Horizontal"===this.__orientation||null===t.value.height||void 0===t.value.height?t.value.offsetY:t.value.offsetY-t.value.height,r+=-o,r+="px)",null===t.value.width||void 0===t.value.width||null===t.value.height||void 0===t.value.height)return null===t.value.width||void 0===t.value.width?e.Engineering.ErrorPane.add("E_GAUGE["+this.__id+"]_KNOB_MISSING_WIDTH","The Width of the Knob for "+this.__id+" is not defined in the Theme. Knob is invisible.",e.Engineering.ErrorPane.MessageType.Error):e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_WIDTH"),null===t.value.height||void 0===t.value.height?e.Engineering.ErrorPane.add("E_GAUGE["+this.__id+"]_KNOB_MISSING_HEIGHT","The Height of the Knob for "+this.__id+" is not defined in the Theme. Knob is invisible.",e.Engineering.ErrorPane.MessageType.Error):e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_HEIGHT"),e.StyleProvider.setSimpleElementStyle(this.__elementKnob,{"background-image":null,"background-size":null}),this.__knobSvgString=null,void(this.__elementKnobDiv.innerHTML="");if(e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_WIDTH"),e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_HEIGHT"),e.StyleProvider.setSimpleElementStyle(this.__elementKnob,{width:t.value.width+"px",height:t.value.height+"px","-webkit-transform":r,transform:r}),this.__draggingInfo.knobConfig=t.value,i=tchmi_path(i),-1===i.indexOf("svg"))e.StyleProvider.setSimpleElementStyle(this.__elementKnob,{"background-image":"url("+i+")","background-size":t.value.width+"px "+t.value.height+"px"}),this.__knobSvgString=null,this.__elementKnobDiv.innerHTML="",this.__knobXhr&&this.__knobXhr.abort();else{if(e.StyleProvider.setSimpleElementStyle(this.__elementKnob,{"background-image":null,"background-size":null}),this.__knobXhr){if(this.__knobXhrUrl===i)return void this.__updateKnobColors();this.__knobXhr.abort(),this.__knobXhr=new XMLHttpRequest}else this.__knobXhr=new XMLHttpRequest;this.__knobXhr.open("GET",i,!0),this.__knobXhrUrl=i,this.__knobXhr.addEventListener("load",t=>{200===this.__knobXhr.status?(this.__knobSvgString=this.__knobXhr.response,this.__updateKnobColors()):(e.Engineering.ErrorPane.add("E_GAUGE["+this.getId()+"]_KNOB_LOADING_ERROR","[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+"] Could not load knob file at "+this.__knobXhrUrl,e.Engineering.ErrorPane.MessageType.Error),this.__knobSvgString=null,this.__updateKnobColors()),this.__knobXhr=void 0}),this.__knobXhr.addEventListener("error",t=>{e.Engineering.ErrorPane.add("E_GAUGE["+this.getId()+"]_KNOB_LOADING_ERROR","[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+"] Could not load knob file at "+this.__knobXhrUrl,e.Engineering.ErrorPane.MessageType.Error),this.__knobSvgString=null,this.__updateKnobColors(),this.__knobXhr=void 0}),e.Engineering.ErrorPane.remove("E_GAUGE["+this.getId()+"]_KNOB_LOADING_ERROR"),this.__knobXhr.send()}},this.__onMouseDownKnob=t=>{if(0===t.button&&this.getEditable()&&this.getIsEnabled()&&!0===e.Access.checkAccess(this,"operate")){this.__draggingInfo.isDragging=!0,this.__draggingInfo.originalValue=this.__internalValue;var i=this.__elementKnob[0].getBoundingClientRect();"Horizontal"===this.__orientation?this.__draggingInfo.offset=t.clientX-i.left-this.__draggingInfo.knobConfig.offsetX*(i.width/this.__draggingInfo.knobConfig.width):this.__draggingInfo.offset=t.clientY-i.top-this.__draggingInfo.knobConfig.offsetY*(i.height/this.__draggingInfo.knobConfig.height)}},this.__onMouseDownControl=t=>{t.target instanceof HTMLElement&&!this.__draggingInfo.isDragging&&this.getClickAnywhereToEdit()&&this.getEditable()&&this.getIsEnabled()&&!0===e.Access.checkAccess(this,"operate")&&(t.target.classList.contains("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-filler")||t.target.classList.contains("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-track"))&&(this.__draggingInfo.isDragging=!0,this.__draggingInfo.originalValue=this.__internalValue,this.__draggingInfo.offset=0,this.__setValue(this.__calcValueFromEventCoords(t.clientX,t.clientY)))},this.__onMouseMove=t=>{1===t.which?this.__draggingInfo.isDragging&&this.getEditable()&&this.getIsEnabled()&&!0===e.Access.checkAccess(this,"operate")&&this.__setValue(this.__calcValueFromEventCoords(t.clientX,t.clientY)):this.__draggingInfo.isDragging=!1},this.__onMouseUp=t=>{this.__draggingInfo.isDragging&&this.getEditable()&&this.getIsEnabled()&&!0===e.Access.checkAccess(this,"operate")&&(this.__draggingInfo.isDragging=!1,e.EventProvider.raise(this.__id+".onUserInteractionFinished"))},this.__onTouchStartKnob=t=>{if(!this.getEditable()||!this.getIsEnabled()||!0!==e.Access.checkAccess(this,"operate"))return;let i=null;for(var o=0,r=t.changedTouches.length;o<r;o++)if(t.changedTouches[o].target===this.__elementKnob[0]||$.contains(this.__elementKnob[0],t.changedTouches[o].target)){i=t.changedTouches[o];break}if(null!==i){t.preventDefault(),null===this.__draggingInfo.touchIdentifier&&(this.__draggingInfo.originalValue=this.__internalValue),this.__draggingInfo.isDragging=!0,this.__draggingInfo.touchIdentifier=i.identifier;var n=this.__elementKnob[0].getBoundingClientRect();"Horizontal"===this.__orientation?this.__draggingInfo.offset=i.clientX-n.left-this.__draggingInfo.knobConfig.offsetX*(n.width/this.__draggingInfo.knobConfig.width):this.__draggingInfo.offset=i.clientY-n.top-this.__draggingInfo.knobConfig.offsetY*(n.height/this.__draggingInfo.knobConfig.height)}},this.__onTouchStartControl=t=>{if(this.__draggingInfo.isDragging||!this.getClickAnywhereToEdit()||!this.getEditable()||!this.getIsEnabled()||!0!==e.Access.checkAccess(this,"operate"))return;let i=null;for(var o=0,r=t.changedTouches.length;o<r;o++)if(t.changedTouches[o].target===this.__element[0]||$.contains(this.__element[0],t.changedTouches[o].target)){i=t.changedTouches[o];break}if(null!==i){t.preventDefault();var n=this.__elementTemplateRoot[0].parentElement,l=this.__elementTemplateRoot[0].getBoundingClientRect();null!==n&&(l=n.getBoundingClientRect());var s,a,_,h,u=i.clientX-l.left,c=i.clientY-l.top,g=this.__elementTrack.width(),d=this.__elementTrack.height(),m=this.__elementTrack[0].offsetLeft,b=this.__elementTrack[0].offsetTop;"Horizontal"===this.__orientation?(s=0,a=this.__elementTemplateRoot.width(),null!==n&&(a=n.clientWidth),_=b-5,h=b+d+5):(s=m-5,a=m+g,_=0,h=this.__elementTemplateRoot.height(),null!==n&&(h=n.clientHeight)),u>=s&&u<=a&&c>=_&&c<=h&&(null===this.__draggingInfo.touchIdentifier&&(this.__draggingInfo.originalValue=this.__internalValue),this.__draggingInfo.isDragging=!0,this.__draggingInfo.touchIdentifier=i.identifier,this.__draggingInfo.offset=0,this.__setValue(this.__calcValueFromEventCoords(i.clientX,i.clientY)))}},this.__onTouchMove=t=>{if(!this.__draggingInfo.isDragging||!this.getEditable()||!this.getIsEnabled()||!0!==e.Access.checkAccess(this,"operate"))return;let i=null;for(var o=0,r=t.changedTouches.length;o<r;o++)if(t.changedTouches[o].identifier===this.__draggingInfo.touchIdentifier){i=t.changedTouches[o];break}null!==i&&this.__setValue(this.__calcValueFromEventCoords(i.clientX,i.clientY))},this.__onTouchEnd=t=>{if(!this.__draggingInfo.isDragging||!this.getEditable()||!this.getIsEnabled()||!0!==e.Access.checkAccess(this,"operate"))return;let i=null;for(var o=0,r=t.changedTouches.length;o<r;o++)if(t.changedTouches[o].identifier===this.__draggingInfo.touchIdentifier){i=t.changedTouches[o];break}null!==i&&(this.__draggingInfo.isDragging=!1,this.__draggingInfo.touchIdentifier=null,e.EventProvider.raise(this.__id+".onUserInteractionFinished"))},this.__onTouchCancel=t=>{if(!this.__draggingInfo.isDragging||!this.getEditable()||!this.getIsEnabled()||!0!==e.Access.checkAccess(this,"operate"))return;let i=null;for(var o=0,r=t.changedTouches.length;o<r;o++)if(t.changedTouches[o].identifier===this.__draggingInfo.touchIdentifier){i=t.changedTouches[o];break}null!==i&&(this.__draggingInfo.isDragging=!1,this.__draggingInfo.touchIdentifier=null,this.__setValue(this.__draggingInfo.originalValue),e.EventProvider.raise(this.__id+".onUserInteractionFinished"))},this.__onResolverForValueFormatWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("valueFormat"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__valueFormat)||(this.__valueFormat=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueFormat"}),this.__processValueFormat()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=ValueFormat] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForLabelFormatWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("labelFormat"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__labelFormat)||(this.__labelFormat=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFormat"}),this.__processLabelFormat()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=LabelFormat] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForTickDefinitionWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("tickDefinition"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__tickDefinition)||(this.__tickDefinition=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TickDefinition"}),this.__processTickDefinition()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=TickDefinition] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForRangeWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("range"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__range)||(this.__range=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Range"}),this.__processRange()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=Range] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForPaddingWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("padding"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__padding)||(this.__padding=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Padding"}),this.__processPadding()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=Padding] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForValueColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("valueColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__valueColor)||(this.__valueColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueColor"}),this.__processValueColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=ValueColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForLabelColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("labelColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__labelColor)||(this.__labelColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelColor"}),this.__processLabelColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=LabelColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForUnitColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("unitColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__unitColor)||(this.__unitColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitColor"}),this.__processUnitColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=UnitColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForTickColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("tickColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__tickColor)||(this.__tickColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TickColor"}),this.__processTickColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=TickColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForProgressBackgroundColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("progressBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__progressBackgroundColor)||(this.__progressBackgroundColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ProgressBackgroundColor"}),this.__processProgressBackgroundColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=ProgressBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForProgressForegroundColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("progressForegroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__progressForegroundColor)||(this.__progressForegroundColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ProgressForegroundColor"}),this.__processProgressForegroundColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=ProgressForegroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForKnobColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("knobColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__knobColor)||(this.__knobColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"KnobColor"}),this.__processKnobColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=KnobColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},this.__onResolverForKnobArrowsColorWatchCallback=t=>{!1===this.__isAttached&&this.__suspendObjectResolver("knobArrowsColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,this.__knobArrowsColor)||(this.__knobArrowsColor=t.value,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"KnobArrowsColor"}),this.__processKnobArrowsColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+this.getId()+", Attribute=KnobArrowsColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))}}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-linear-gauge-template")),this.__elementTrack=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-track"),0===this.__elementTrack.length&&(this.__elementTrack=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-track")),this.__elementFiller=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-filler"),0===this.__elementFiller.length&&(this.__elementFiller=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-filler")),this.__elementKnob=this.__elementTrack.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-knob"),0===this.__elementKnob.length&&(this.__elementKnob=this.__elementTrack.find(".tchmi-linear-gauge-template-knob")),this.__elementKnob.length>0&&this.__elementKnob[0]instanceof HTMLDivElement&&(this.__elementKnobDiv=this.__elementKnob[0]),this.__elementLabels=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-labels"),0===this.__elementLabels.length&&(this.__elementLabels=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-labels")),this.__elementTicks=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-ticks"),0===this.__elementTicks.length&&(this.__elementTicks=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-ticks")),this.__elementValueContent=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value .content"),0===this.__elementValueContent.length&&(this.__elementValueContent=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-value .content")),this.__elementValueHiddenMin=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value .hidden.min"),0===this.__elementValueHiddenMin.length&&(this.__elementValueHiddenMin=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-value .hidden.min")),this.__elementValueHiddenMax=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value .hidden.max"),0===this.__elementValueHiddenMax.length&&(this.__elementValueHiddenMax=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-value .hidden.max")),this.__elementUnitContent=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-unit .content"),0===this.__elementUnitContent.length&&(this.__elementUnitContent=this.__elementTemplateRoot.find(".tchmi-linear-gauge-template-unit .content")),this.__elementRange=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-range"),0===this.__elementRange.length&&(this.__elementRange=this.__elementTemplateRoot.find(".tchmi-linear-gauge--template-range")),0===this.__elementTemplateRoot.length||0===this.__elementTrack.length||0===this.__elementFiller.length||0===this.__elementLabels.length||0===this.__elementTicks.length||0===this.__elementValueContent.length||0===this.__elementValueHiddenMin.length||0===this.__elementValueHiddenMax.length||0===this.__elementUnitContent.length||0===this.__elementRange.length)throw new Error("Invalid Template.html");super.__previnit()}__init(){super.__init(),this.__fetchKnob(),this.__elementKnob[0].addEventListener("mousedown",this.__onMouseDownKnob),this.__elementKnob[0].addEventListener("touchstart",this.__onTouchStartKnob,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1}),this.__element[0].addEventListener("mousedown",this.__onMouseDownControl),this.__element[0].addEventListener("touchstart",this.__onTouchStartControl,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1})}__attach(){super.__attach(),this.__resizedEventDestroyEvent=e.EventProvider.register(this.__id+".onResized",this.__onResized),window.addEventListener("mousemove",this.__onMouseMove),window.addEventListener("mouseup",this.__onMouseUp),window.addEventListener("touchmove",this.__onTouchMove,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1}),window.addEventListener("touchend",this.__onTouchEnd),window.addEventListener("touchcancel",this.__onTouchCancel),this.__processShowLabels(),this.__processShowTicks(),this.__updateValueVisualization(this.__internalValue),this.__themeDataLoadedEventDestroyEvent=e.EventProvider.register("onThemeDataChanged",this.__fetchKnob)}__detach(){super.__detach(),null!==this.__progressBarAnimation&&this.__progressBarAnimation.pause(),null!==this.__editKnobAnimation&&this.__editKnobAnimation.pause(),null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null),null!==this.__themeDataLoadedEventDestroyEvent&&(this.__themeDataLoadedEventDestroyEvent(),this.__themeDataLoadedEventDestroyEvent=null),window.removeEventListener("mousemove",this.__onMouseMove),window.removeEventListener("mouseup",this.__onMouseUp),window.removeEventListener("touchmove",this.__onTouchMove),window.removeEventListener("touchend",this.__onTouchEnd),window.removeEventListener("touchcancel",this.__onTouchCancel),e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_WIDTH"),e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_HEIGHT")}destroy(){this.__keepAlive||(this.__elementKnob[0].removeEventListener("mousedown",this.__onMouseDownKnob),this.__elementKnob[0].removeEventListener("touchstart",this.__onTouchStartKnob),this.__element[0].removeEventListener("mousedown",this.__onMouseDownControl),this.__element[0].removeEventListener("touchstart",this.__onTouchStartControl),this.__knobXhr&&(this.__knobXhr.abort(),this.__knobXhr=void 0),e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_WIDTH"),e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_MISSING_HEIGHT"),e.Engineering.ErrorPane.remove("E_GAUGE["+this.__id+"]_KNOB_LOADING_ERROR"),super.destroy())}__resolveLinearGradientColorAsSvgStrings(e){let t="tchmi-styleprovider-"+tchmi_create_guid(),i="<linearGradient",o=e.angle;null==o&&(o=0),i+=' x1="0" y1="1" x2="0" y2="0"',i+=' id="'+t+'"',i+=' class="tchmi-styleprovider-linear-gradient"',i+=' gradientTransform="rotate('+o+', 0.5, 0.5)"',i+=">\n";for(var r=0,n=e.stopPoints.length;r<n;r++){let t=e.stopPoints[r];if(void 0===t.stop||null===t.stop)if(0===r)t.stop="0%";else if(r===n-1)t.stop="100%";else{let i=0;e.stopPoints[r-1].stop&&(i=parseFloat(e.stopPoints[r-1].stop));let o=null;for(var l=r+1,s=e.stopPoints.length;l<s;l++){let t=e.stopPoints[l].stop;if(null!=t){o=parseFloat(t);break}}null===o&&(o=100,l--);let n="";e.stopPoints[r-1].stop&&(n=e.stopPoints[r-1].stop.replace(/[0-9\.]/g,"")),t.stop=i+(o-i)/(l-r)+n}let o="<stop";o+=' offset="'+t.stop+'"',o+=' stop-color="'+t.color+'"',o+="></stop>\n",i+=o}return i+="</linearGradient>",{gradientString:i,fillString:"url(#"+t+")"}}__updateKnobColors(){let t;if(this.__knobSvgString){if(t=this.__knobSvgString,e.isSolidColor(this.__knobColor))t=t.replace(/{KnobColorGradientDefinition}/g,""),t=t.replace(/{KnobColorFill}/g,"fill:"+e.StyleProvider.resolveSolidColorAsCssValue(this.__knobColor)+";"),t=t.replace(/{KnobColorStroke}/g,"stroke:"+e.StyleProvider.resolveSolidColorAsCssValue(this.__knobColor)+";");else if(e.isLinearGradientColor(this.__knobColor)){let e=this.__resolveLinearGradientColorAsSvgStrings(this.__knobColor);t=t.replace(/{KnobColorGradientDefinition}/g,e.gradientString),t=t.replace(/{KnobColorFill}/g,"fill:"+e.fillString+";"),t=t.replace(/{KnobColorStroke}/g,"stroke:"+e.fillString+";")}else t=t.replace(/{KnobColorGradientDefinition}/g,""),t=t.replace(/{KnobColorFill}/g,""),t=t.replace(/{KnobColorStroke}/g,"");if(e.isSolidColor(this.__knobArrowsColor))t=t.replace(/{KnobArrowsColorGradientDefinition}/g,""),t=t.replace(/{KnobArrowsColorFill}/g,"fill:"+e.StyleProvider.resolveSolidColorAsCssValue(this.__knobArrowsColor)+";"),t=t.replace(/{KnobArrowsColorStroke}/g,"stroke:"+e.StyleProvider.resolveSolidColorAsCssValue(this.__knobArrowsColor)+";");else if(e.isLinearGradientColor(this.__knobArrowsColor)){let e=this.__resolveLinearGradientColorAsSvgStrings(this.__knobArrowsColor);t=t.replace(/{KnobArrowsColorGradientDefinition}/g,e.gradientString),t=t.replace(/{KnobArrowsColorFill}/g,"fill:"+e.fillString+";"),t=t.replace(/{KnobArrowsColorStroke}/g,"")}else t=t.replace(/{KnobArrowsColorGradientDefinition}/g,""),t=t.replace(/{KnobArrowsColorFill}/g,""),t=t.replace(/{KnobArrowsColorStroke}/g,"")}else t="";this.__elementKnobDiv.innerHTML=t}__calculatePercentage(e){return(e-this.__internalMinValue)/(this.__internalMaxValue-this.__internalMinValue)}__calculateValue(e){return(this.__internalMaxValue-this.__internalMinValue)*e+this.__internalMinValue}__calcValueFromEventCoords(e,t){var i,o=this.__elementTrack[0].getBoundingClientRect();i="Horizontal"===this.__orientation?(e-o.left-this.__draggingInfo.offset)/o.width:(o.height-(t-o.top)+this.__draggingInfo.offset)/o.height;var r=this.__calculateValue(i);return r=(r=(r=void 0!==this.__step&&this.__step>0?Math.round(r/this.__step)*this.__step:parseFloat(r.toPrecision(12)))<this.__internalMinValue?this.__internalMinValue:r)>this.__internalMaxValue?this.__internalMaxValue:r}__updateValueVisualization(t){if(!this.__isAttached)return;this.__elementValueContent.text(this.__executeValueFormatFunction(t));let i=100*this.__calculatePercentage(t),o=i;if(this.__internalMinValue<0&&this.__startFromZero&&(o-=100*this.__calculatePercentage(0)),isNaN(i))return;let r="Horizontal"===this.__orientation?"width":"height";null!==this.__progressBarAnimation&&this.__progressBarAnimation.state()!==e.Animation.Status.ENDED&&this.__progressBarAnimation.skip(),null!==this.__editKnobAnimation&&this.__editKnobAnimation.state()!==e.Animation.Status.ENDED&&this.__editKnobAnimation.skip();var n=function(e){return e&&e<0?-1:1};if(this.__draggingInfo.isDragging||void 0===this.__baseAnimationTime){var l={width:"",height:"",transform:`scale(${n(o)}, ${n(o)})`};if(l[r]=Math.abs(o)+"%",e.StyleProvider.setSimpleElementStyle(this.__elementFiller,l),this.getEditable()){let t={left:"",bottom:""};t["Horizontal"===this.__orientation?"left":"bottom"]=i+"%",e.StyleProvider.setSimpleElementStyle(this.__elementKnob,t)}}else{let t=100*this.__calculatePercentage(this.__oldValue),l=t;this.__internalMinValue<0&&this.__startFromZero&&(l-=100*this.__calculatePercentage(0));let s=Math.abs(o-l),a=this.__baseAnimationTime;if(isNaN(s)||(a*=s/100),e.StyleProvider.setSimpleElementStyle(this.__elementFiller,r,null),null===this.__progressBarAnimation&&(this.__progressBarAnimation=e.AnimationProvider.create(this.__id,".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-filler").timingFunction("linear").fillMode("both").cleanup(!0).useCss(!1)),o>0&&l<0||o<0&&l>0){let e=Math.round(Math.abs(l)/(Math.abs(o)+Math.abs(l))*1e3)/1e3,t={transform:`scale(${n(l)}, ${n(l)})`};t[r]=Math.abs(l)+"%";let i={transform:`scale(${n(l)}, ${n(l)})`};i[r]="0%";let s={transform:`scale(${n(o)}, ${n(o)})`};s[r]="0%";let _={transform:`scale(${n(o)}, ${n(o)})`};_[r]=Math.abs(o)+"%",this.__progressBarAnimation.clearKeyframes().duration(a).addKeyframe(t,0).addKeyframe(i,e-.001).addKeyframe(s,e+.001).addKeyframe(_,1).run()}else{let e={transform:`scale(${n(o)}, ${n(o)})`};e[r]=Math.abs(l)+"%";let t={transform:`scale(${n(o)}, ${n(o)})`};t[r]=Math.abs(o)+"%",this.__progressBarAnimation.clearKeyframes().duration(a).addKeyframe(e,0).addKeyframe(t,1).run()}if(this.getEditable()){let o="Horizontal"===this.__orientation?"left":"bottom";e.StyleProvider.setSimpleElementStyle(this.__elementKnob,o,null),null===this.__editKnobAnimation&&(this.__editKnobAnimation=e.AnimationProvider.create(this.__id,".TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-knob").timingFunction("linear").fillMode("both").cleanup(!0).useCss(!1)),this.__editKnobAnimation.clearKeyframes().duration(a).addKeyframe(o,t+"%",0).addKeyframe(o,i+"%",1).run()}}}__setInternalMinMaxValue(){void 0!==this.__minValue&&void 0!==this.__maxValue?(this.__internalMinValue=this.__minValue>this.__maxValue?this.__maxValue:this.__minValue,this.__internalMaxValue=this.__maxValue<this.__minValue?this.__minValue:this.__maxValue):(this.__internalMinValue=0,this.__internalMaxValue=100)}__setInternalValue(){this.__setInternalMinMaxValue(),this.__oldValue=this.__internalValue,this.__oldValue=this.__oldValue<this.__internalMinValue?this.__internalMinValue:this.__oldValue,this.__oldValue=this.__oldValue>this.__internalMaxValue?this.__internalMaxValue:this.__oldValue,void 0===this.__value?this.__internalValue=0:void 0!==this.__step&&this.__step>0?this.__internalValue=Math.round(this.__value/this.__step)*this.__step:this.__internalValue=parseFloat(this.__value.toPrecision(12)),this.__internalValue=this.__internalValue>this.__internalMaxValue?this.__internalMaxValue:this.__internalValue,this.__internalValue=this.__internalValue<this.__internalMinValue?this.__internalMinValue:this.__internalValue}setValue(valueNew){this.__draggingInfo.isDragging||this.__setValue(valueNew)}__setValue(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Value")),t!==this.__value&&(this.__value=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Value"}),e.EventProvider.raise(this.__id+".onValueChanged"),this.__processValue())}getValue(){return this.__value}__processValue(){void 0!==this.__minValue&&void 0!==this.__maxValue&&void 0!==this.__value&&(this.__setInternalMinMaxValue(),this.__setInternalValue(),this.__updateValueVisualization(this.__internalValue))}setMinValue(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("MinValue")),t!==this.__minValue&&(this.__minValue=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MinValue"}),this.__processMinValue())}getMinValue(){return this.__minValue}__processMinValue(){if(void 0===this.__maxValue||void 0===this.__minValue)return;if(this.__setInternalMinMaxValue(),this.__processShowLabels(),this.__processShowTicks(),this.__processRange(),void 0===this.__value)return;this.__setInternalValue(),this.__processStartFromZero(),this.__processValue();let e=0;void 0!==this.__step&&(e=this.__step-Math.floor(this.__step)),this.__elementValueHiddenMin.text(this.__internalMinValue+e)}setMaxValue(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("MaxValue")),t!==this.__maxValue&&(this.__maxValue=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MaxValue"}),this.__processMaxValue())}getMaxValue(){return this.__maxValue}__processMaxValue(){if(void 0===this.__maxValue||void 0===this.__minValue)return;if(this.__setInternalMinMaxValue(),this.__processShowLabels(),this.__processShowTicks(),this.__processRange(),void 0===this.__value)return;this.__setInternalValue(),this.__processStartFromZero(),this.__processValue();let e=0;void 0!==this.__step&&(e=this.__step-Math.floor(this.__step)),this.__elementValueHiddenMax.text(this.__internalMaxValue+e)}setStep(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Step")),t!==this.__step&&(this.__step=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Step"}),this.__processStep())}getStep(){return this.__step}__processStep(){let e=.001;void 0!==this.__step&&this.__step>0&&(e=this.__step-Math.floor(this.__step)),this.__elementValueHiddenMin.text(this.__internalMinValue+e),this.__elementValueHiddenMax.text(this.__internalMaxValue+e),this.__processValue()}setStartFromZero(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("StartFromZero")),t!==this.__startFromZero&&(this.__startFromZero=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StartFromZero"}),this.__processStartFromZero())}getStartFromZero(){return this.__startFromZero}__processStartFromZero(){var t={left:"",bottom:""};this.__startFromZero&&this.__internalMinValue<0&&(t["Horizontal"===this.__orientation?"left":"bottom"]=100*this.__calculatePercentage(0)+"%");e.StyleProvider.setSimpleElementStyle(this.__elementFiller,t),this.__processValue()}setEditable(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Editable")),t!==this.__editable&&(this.__editable=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Editable"}),this.__processEditable())}getEditable(){return this.__editable}__processEditable(){if(this.__editable){let t={display:"block",left:"",bottom:""};t["Horizontal"===this.__orientation?"left":"bottom"]=100*this.__calculatePercentage(this.__internalValue)+"%",e.StyleProvider.setSimpleElementStyle(this.__elementKnob,t)}else e.StyleProvider.setSimpleElementStyle(this.__elementKnob,"display",null)}setClickAnywhereToEdit(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ClickAnywhereToEdit")),t!==this.__clickAnywhereToEdit&&(this.__clickAnywhereToEdit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ClickAnywhereToEdit"}),this.__processClickAnywhereToEdit())}getClickAnywhereToEdit(){return this.__clickAnywhereToEdit}__processClickAnywhereToEdit(){}setValueFormat(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueFormat"));let i=this.__objectResolvers.get("valueFormat");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("valueFormat",{resolver:o,watchCallback:this.__onResolverForValueFormatWatchCallback,watchDestroyer:o.watch(this.__onResolverForValueFormatWatchCallback)})}getValueFormat(){return this.__valueFormat}__processValueFormat(){this.__updateValueVisualization(this.__internalValue)}__executeValueFormatFunction(t){if(void 0!==this.__valueFormat&&null!==this.__valueFormat&&!1!==this.__valueFormat.active){const i=[t];let o=null,r=new e.Function(this.__valueFormat),n=this;return r.executeEx(i,(function(t){t.error===e.Errors.NONE?o=t.result:TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+n.getId()+"] Execution of function="+n.__valueFormat.fn+" failed with error: "+e.Log.buildMessage(t.details))})),r.destroy(),o}return t.toString()}setShowLabels(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ShowLabels")),t!==this.__showLabels&&(this.__showLabels=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowLabels"}),this.__processShowLabels())}getShowLabels(){return this.__showLabels}__processShowLabels(){if(this.__elementLabels.empty(),!this.__showLabels||void 0===this.__maxValue||void 0===this.__minValue||void 0===this.__labelRange||null===this.__labelRange||this.__labelRange<=0)return;let e=Math.floor((this.__internalMaxValue-this.__internalMinValue)/this.__labelRange),t=this.__labelRange,i="Horizontal"===this.__orientation?this.__elementTrack.width():this.__elementTrack.height(),o=Math.floor(i/5);o=o>1?o:1,e>o&&(e=o,t=Math.floor((this.__internalMaxValue-this.__internalMinValue)/o/t)*t);let r="Horizontal"===this.__orientation?"left":"bottom",n=(t-Math.floor(t)).toString(),l=0;-1!==n.indexOf(".")?l=n.split(".")[1].length:-1===n.indexOf("e-")&&-1===n.indexOf("E-")||(l=parseInt(n.split(/[eE]-/)[1],10),isNaN(l)&&(l=0));let s=(this.__internalMinValue-Math.floor(this.__internalMinValue)).toString(),a=0;-1!==s.indexOf(".")?a=s.split(".")[1].length:-1===s.indexOf("e-")&&-1===s.indexOf("E-")||(a=parseInt(s.split(/[eE]-/)[1],10),isNaN(a)&&(a=0));let _=Math.max(l,a);for(var h=0;h<=e;h++){let i=t*h+this.__internalMinValue;_>0&&(i=Math.round(i*Math.pow(10,_))/Math.pow(10,_));let o=$(`<span>${this.__executeLabelFormatFunction(i)}</span>`).css(r,100*this.__calculatePercentage(i)+"%");if(i===this.__internalMinValue?o[0].classList.add("first"):i===this.__internalMaxValue&&o[0].classList.add("last"),this.__elementLabels.append(o),0===h||h===e){let e=$(`<span class="hidden">${this.__executeLabelFormatFunction(i)}</span>`);this.__elementLabels.append(e)}}}setLabelRange(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelRange")),t!==this.__labelRange&&(this.__labelRange=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelRange"}),this.__processLabelRange())}getLabelRange(){return this.__labelRange}__processLabelRange(){this.__processShowLabels()}setLabelFormat(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFormat"));let i=this.__objectResolvers.get("labelFormat");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("labelFormat",{resolver:o,watchCallback:this.__onResolverForLabelFormatWatchCallback,watchDestroyer:o.watch(this.__onResolverForLabelFormatWatchCallback)})}getLabelFormat(){return this.__labelFormat}__processLabelFormat(){this.__processShowLabels()}__executeLabelFormatFunction(t){if(void 0!==this.__labelFormat&&null!==this.__labelFormat&&!1!==this.__labelFormat.active){const i=[t];let o=null,r=new e.Function(this.__labelFormat),n=this;return r.executeEx(i,(function(t){t.error===e.Errors.NONE?o=t.result:TCHMI_CONSOLE_LOG_LEVEL>=1&&e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLinearGauge, Id="+n.getId()+"] Execution of function="+n.__labelFormat.fn+" failed with error: "+e.Log.buildMessage(t.details))})),r.destroy(),o}return t.toString()}setShowTicks(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ShowTicks")),t!==this.__showTicks&&(this.__showTicks=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowTicks"}),this.__processShowTicks())}getShowTicks(){return this.__showTicks}__processShowTicks(){if(this.__elementTicks.empty(),!this.__showTicks||void 0===this.__maxValue||void 0===this.__minValue||void 0===this.__tickDefinition||null===this.__tickDefinition)return void e.StyleProvider.setSimpleElementStyle(this.__elementTicks[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-ticks"),"flex-basis","0");e.StyleProvider.setSimpleElementStyle(this.__elementTicks[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-ticks"),"flex-basis",null);let t="Horizontal"===this.__orientation?"left":"bottom",i="Horizontal"===this.__orientation?this.__elementTrack.width():this.__elementTrack.height(),o=Math.floor(i/2);if(o=o>1?o:1,this.__tickDefinition.subTickRange>0){let i=Math.floor((this.__internalMaxValue-this.__internalMinValue)/this.__tickDefinition.subTickRange),r=this.__tickDefinition.subTickRange;i>o&&(i=o,r=(this.__internalMaxValue-this.__internalMinValue)/o);for(let o=0;o<=i;o++){let i=r*o+this.__internalMinValue;if((i+this.__internalMinValue)%this.__tickDefinition.mainTickRange==0)continue;let n=$('<div class="TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-tick minor"></div>').css(t,100*this.__calculatePercentage(i)+"%");i===this.__internalMinValue?n[0].classList.add("first"):i===this.__internalMaxValue&&n[0].classList.add("last"),e.StyleProvider.processBackgroundColor(n,this.__tickColor),this.__elementTicks.append(n)}}if(this.__tickDefinition.mainTickRange>0){let i=Math.floor((this.__internalMaxValue-this.__internalMinValue)/this.__tickDefinition.mainTickRange),r=this.__tickDefinition.mainTickRange;i>o&&(i=o,r=(this.__internalMaxValue-this.__internalMinValue)/o);for(let o=0;o<=i;o++){let i=r*o+this.__internalMinValue,n=$('<div class="TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-tick major"></div>').css(t,100*this.__calculatePercentage(i)+"%");i===this.__internalMinValue?n[0].classList.add("first"):i===this.__internalMaxValue&&n[0].classList.add("last"),e.StyleProvider.processBackgroundColor(n,this.__tickColor),this.__elementTicks.append(n)}}}setTickDefinition(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TickDefinition"));let i=this.__objectResolvers.get("tickDefinition");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("tickDefinition",{resolver:o,watchCallback:this.__onResolverForTickDefinitionWatchCallback,watchDestroyer:o.watch(this.__onResolverForTickDefinitionWatchCallback)})}getTickDefinition(){return this.__tickDefinition}__processTickDefinition(){this.__processShowTicks()}setLabelPosition(valueNew){let t=e.ValueConverter.toString(valueNew);if(null===t&&(t=this.getAttributeDefaultValueInternal("LabelPosition")),t!==this.__labelPosition){switch(t){case"Bottom":case"Left":case"Right":this.__labelPosition=t;break;default:this.__labelPosition="Top"}e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelPosition"}),this.__processLabelPosition()}}getLabelPosition(){return this.__labelPosition}__processLabelPosition(){"Top"===this.__labelPosition||"Left"===this.__labelPosition?this.__elementTemplateRoot[0].classList.remove("flex-reverse"):this.__elementTemplateRoot[0].classList.add("flex-reverse")}setRange(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Range"));let i=this.__objectResolvers.get("range");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("range",{resolver:o,watchCallback:this.__onResolverForRangeWatchCallback,watchDestroyer:o.watch(this.__onResolverForRangeWatchCallback)})}getRange(){return this.__range}__processRange(){if(this.__elementRange.empty(),this.__range&&0!==this.__range.length)for(var t="Horizontal"===this.__orientation?"left":"bottom",i="Horizontal"===this.__orientation?"width":"height",o=0,r=this.__range.length;o<r;o++){var n=$('<div class="TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-rangechild"></div>').css(t,100*this.__calculatePercentage(this.__range[o].start)+"%").css(i,100*this.__calculatePercentage(this.__range[o].end-this.__range[o].start+this.__internalMinValue)+"%");e.StyleProvider.processBackgroundColor(n,this.__range[o].color),this.__elementRange.append(n)}}setShowValueText(valueNew){let t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ShowValueText")),t!==this.__showValueText&&(this.__showValueText=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowValueText"}),this.__processShowValueText())}getShowValueText(){return this.__showValueText}__processShowValueText(){this.__showValueText?e.StyleProvider.setSimpleElementStyle(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),"display",null):e.StyleProvider.setSimpleElementStyle(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),"display","none")}setUnit(valueNew){let t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Unit")),t!==this.__unit&&(this.__unit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Unit"}),this.__processUnit())}getUnit(){return this.__unit}__processUnit(){this.__unit?this.__elementUnitContent.text(this.__unit):this.__elementUnitContent.text("")}setOrientation(valueNew){let t=e.ValueConverter.toString(valueNew);if(null===t&&(t=this.getAttributeDefaultValueInternal("Orientation")),t!==this.__orientation){switch(t){case"Vertical":this.__orientation=t;break;default:this.__orientation="Horizontal"}e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Orientation"}),this.__processOrientation(),this.__fetchKnob()}}getOrientation(){return this.__orientation}__processOrientation(){"Horizontal"===this.__orientation?this.__element[0].classList.remove("vertical"):this.__element[0].classList.add("vertical"),null!==this.__progressBarAnimation&&this.__progressBarAnimation.state()!==e.Animation.Status.ENDED&&this.__progressBarAnimation.skip(),null!==this.__editKnobAnimation&&this.__editKnobAnimation.state()!==e.Animation.Status.ENDED&&this.__editKnobAnimation.skip(),e.StyleProvider.setSimpleElementStyle(this.__elementFiller,{width:null,height:null,transform:null}),this.__processShowLabels(),this.__processShowTicks(),this.__processLabelPosition(),this.__processValue(),this.__processEditable(),this.__processRange(),this.__processStartFromZero()}setPadding(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Padding"));let i=this.__objectResolvers.get("padding");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("padding",{resolver:o,watchCallback:this.__onResolverForPaddingWatchCallback,watchDestroyer:o.watch(this.__onResolverForPaddingWatchCallback)})}getPadding(){return this.__padding}__processPadding(){e.StyleProvider.processContentPadding(this.__elementTemplateRoot,this.__padding)}setBaseAnimationTime(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("BaseAnimationTime")),t!==this.__baseAnimationTime&&(this.__baseAnimationTime=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BaseAnimationTime"}),this.__processBaseAnimationTime())}getBaseAnimationTime(){return this.__baseAnimationTime}__processBaseAnimationTime(){}setValueFontSize(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueFontSize")),t!==this.__valueFontSize&&(this.__valueFontSize=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueFontSize"}),this.__processValueFontSize())}getValueFontSize(){return this.__valueFontSize}__processValueFontSize(){e.StyleProvider.processFontSize(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),this.__valueFontSize,this.__valueFontSizeUnit)}setValueFontSizeUnit(valueNew){let t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueFontSizeUnit")),t!==this.__valueFontSizeUnit&&(this.__valueFontSizeUnit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueFontSizeUnit"}),this.__processValueFontSizeUnit())}getValueFontSizeUnit(){return this.__valueFontSizeUnit}__processValueFontSizeUnit(){this.__processValueFontSize()}setValueFontFamily(valueNew){let t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueFontFamily")),t!==this.__valueFontFamily&&(this.__valueFontFamily=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueFontFamily"}),this.__processValueFontFamily())}getValueFontFamily(){return this.__valueFontFamily}__processValueFontFamily(){e.StyleProvider.processFontFamily(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),this.__valueFontFamily)}setValueFontStyle(valueNew){let t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueFontStyle")),t!==this.__valueFontStyle&&(this.__valueFontStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueFontStyle"}),this.__processValueFontStyle())}getValueFontStyle(){return this.__valueFontStyle}__processValueFontStyle(){e.StyleProvider.processFontStyle(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),this.__valueFontStyle)}setValueFontWeight(valueNew){let t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueFontWeight")),t!==this.__valueFontWeight&&(this.__valueFontWeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ValueFontWeight"}),this.__processValueFontWeight())}getValueFontWeight(){return this.__valueFontWeight}__processValueFontWeight(){e.StyleProvider.processFontWeight(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),this.__valueFontWeight)}setValueColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ValueColor"));let i=this.__objectResolvers.get("valueColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("valueColor",{resolver:o,watchCallback:this.__onResolverForValueColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForValueColorWatchCallback)})}getValueColor(){return this.__valueColor}__processValueColor(){e.StyleProvider.processTextColor(this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-value"),this.__valueColor)}setLabelFontSize(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontSize")),t!==this.__labelFontSize&&(this.__labelFontSize=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontSize"}),this.__processLabelFontSize())}getLabelFontSize(){return this.__labelFontSize}__processLabelFontSize(){e.StyleProvider.processFontSize(this.__elementLabels,this.__labelFontSize,this.__labelFontSizeUnit)}setLabelFontSizeUnit(valueNew){let t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontSizeUnit")),t!==this.__labelFontSizeUnit&&(this.__labelFontSizeUnit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontSizeUnit"}),this.__processLabelFontSizeUnit())}getLabelFontSizeUnit(){return this.__labelFontSizeUnit}__processLabelFontSizeUnit(){this.__processLabelFontSize()}setLabelFontFamily(valueNew){let t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontFamily")),t!==this.__labelFontFamily&&(this.__labelFontFamily=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontFamily"}),this.__processLabelFontFamily())}getLabelFontFamily(){return this.__labelFontFamily}__processLabelFontFamily(){e.StyleProvider.processFontFamily(this.__elementLabels,this.__labelFontFamily)}setLabelFontStyle(valueNew){let t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontStyle")),t!==this.__labelFontStyle&&(this.__labelFontStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontStyle"}),this.__processLabelFontStyle())}getLabelFontStyle(){return this.__labelFontStyle}__processLabelFontStyle(){e.StyleProvider.processFontStyle(this.__elementLabels,this.__labelFontStyle)}setLabelFontWeight(valueNew){let t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelFontWeight")),t!==this.__labelFontWeight&&(this.__labelFontWeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontWeight"}),this.__processLabelFontWeight())}getLabelFontWeight(){return this.__labelFontWeight}__processLabelFontWeight(){e.StyleProvider.processFontWeight(this.__elementLabels,this.__labelFontWeight)}setLabelColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("LabelColor"));let i=this.__objectResolvers.get("labelColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("labelColor",{resolver:o,watchCallback:this.__onResolverForLabelColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForLabelColorWatchCallback)})}getLabelColor(){return this.__labelColor}__processLabelColor(){e.StyleProvider.processTextColor(this.__elementLabels,this.__labelColor)}setUnitFontSize(valueNew){let t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("UnitFontSize")),t!==this.__unitFontSize&&(this.__unitFontSize=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitFontSize"}),this.__processUnitFontSize())}getUnitFontSize(){return this.__unitFontSize}__processUnitFontSize(){e.StyleProvider.processFontSize(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-unit"),this.__unitFontSize,this.__unitFontSizeUnit)}setUnitFontSizeUnit(valueNew){let t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("UnitFontSizeUnit")),t!==this.__unitFontSizeUnit&&(this.__unitFontSizeUnit=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitFontSizeUnit"}),this.__processUnitFontSizeUnit())}getUnitFontSizeUnit(){return this.__unitFontSizeUnit}__processUnitFontSizeUnit(){this.__processUnitFontSize()}setUnitFontFamily(valueNew){let t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("UnitFontFamily")),t!==this.__unitFontFamily&&(this.__unitFontFamily=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitFontFamily"}),this.__processUnitFontFamily())}getUnitFontFamily(){return this.__unitFontFamily}__processUnitFontFamily(){e.StyleProvider.processFontFamily(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-unit"),this.__unitFontFamily)}setUnitFontStyle(valueNew){let t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("UnitFontStyle")),t!==this.__unitFontStyle&&(this.__unitFontStyle=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitFontStyle"}),this.__processUnitFontStyle())}getUnitFontStyle(){return this.__unitFontStyle}__processUnitFontStyle(){e.StyleProvider.processFontStyle(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-unit"),this.__unitFontStyle)}setUnitFontWeight(valueNew){let t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("UnitFontWeight")),t!==this.__unitFontWeight&&(this.__unitFontWeight=t,e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitFontWeight"}),this.__processUnitFontWeight())}getUnitFontWeight(){return this.__unitFontWeight}__processUnitFontWeight(){e.StyleProvider.processFontWeight(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-unit"),this.__unitFontWeight)}setUnitOrientation(valueNew){let t=e.ValueConverter.toString(valueNew);if(null===t&&(t=this.getAttributeDefaultValueInternal("UnitOrientation")),t!==this.__unitOrientation){switch(t){case"Horizontal":case"Vertical":this.__unitOrientation=t;break;default:this.__unitOrientation="Theme"}e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"UnitOrientation"}),this.__processUnitOrientation()}}getUnitOrientation(){return this.__unitOrientation}__processUnitOrientation(){"Horizontal"===this.__unitOrientation?(this.__elementUnitContent[0].classList.remove("vertical"),this.__elementUnitContent[0].classList.add("horizontal")):"Vertical"===this.__unitOrientation?(this.__elementUnitContent[0].classList.remove("horizontal"),this.__elementUnitContent[0].classList.add("vertical")):(this.__elementUnitContent[0].classList.remove("horizontal"),this.__elementUnitContent[0].classList.remove("vertical"))}setUnitColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("UnitColor"));let i=this.__objectResolvers.get("unitColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("unitColor",{resolver:o,watchCallback:this.__onResolverForUnitColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForUnitColorWatchCallback)})}getUnitColor(){return this.__unitColor}__processUnitColor(){e.StyleProvider.processTextColor(this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-unit"),this.__unitColor)}setTickColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TickColor"));let i=this.__objectResolvers.get("tickColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("tickColor",{resolver:o,watchCallback:this.__onResolverForTickColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForTickColorWatchCallback)})}getTickColor(){return this.__tickColor}__processTickColor(){e.StyleProvider.processBackgroundColor(this.__elementTicks[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLinearGauge-template-tick"),this.__tickColor)}setProgressBackgroundColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ProgressBackgroundColor"));let i=this.__objectResolvers.get("progressBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("progressBackgroundColor",{resolver:o,watchCallback:this.__onResolverForProgressBackgroundColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForProgressBackgroundColorWatchCallback)})}getProgressBackgroundColor(){return this.__progressBackgroundColor}__processProgressBackgroundColor(){e.StyleProvider.processBackgroundColor(this.__elementTrack,this.__progressBackgroundColor)}setProgressForegroundColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ProgressForegroundColor"));let i=this.__objectResolvers.get("progressForegroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("progressForegroundColor",{resolver:o,watchCallback:this.__onResolverForProgressForegroundColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForProgressForegroundColorWatchCallback)})}getProgressForegroundColor(){return this.__progressForegroundColor}__processProgressForegroundColor(){e.StyleProvider.processBackgroundColor(this.__elementFiller,this.__progressForegroundColor)}setKnobColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("KnobColor"));let i=this.__objectResolvers.get("knobColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("knobColor",{resolver:o,watchCallback:this.__onResolverForKnobColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForKnobColorWatchCallback)})}getKnobColor(){return this.__knobColor}__processKnobColor(){this.__updateKnobColors()}setKnobArrowsColor(valueNew){let t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("KnobArrowsColor"));let i=this.__objectResolvers.get("knobArrowsColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());let o=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("knobArrowsColor",{resolver:o,watchCallback:this.__onResolverForKnobArrowsColorWatchCallback,watchDestroyer:o.watch(this.__onResolverForKnobArrowsColorWatchCallback)})}getKnobArrowsColor(){return this.__knobArrowsColor}__processKnobArrowsColor(){this.__updateKnobColors()}}i.TcHmiLinearGauge=o,t.registerEx("TcHmiLinearGauge","TcHmi.Controls.Beckhoff",e.Controls.Beckhoff.TcHmiLinearGauge)}(i=t.Beckhoff||(t.Beckhoff={}))}(t=e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));